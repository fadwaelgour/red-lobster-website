"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[64831],{17314:(e,a,t)=>{t.d(a,{Z:()=>d});var n,i,l=t(813653),r=t(861470),s=0,o=0;let d=function(e,a,t){var d=a&&t||0,u=a||Array(16),c=(e=e||{}).node||n,p=void 0!==e.clockseq?e.clockseq:i;if(null==c||null==p){var g=e.random||(e.rng||l.Z)();null==c&&(c=n=[1|g[0],g[1],g[2],g[3],g[4],g[5]]),null==p&&(p=i=(g[6]<<8|g[7])&16383)}var m=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:o+1,_=m-s+(h-o)/1e4;if(_<0&&void 0===e.clockseq&&(p=p+1&16383),(_<0||m>s)&&void 0===e.nsecs&&(h=0),h>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=m,o=h,i=p;var y=((268435455&(m+=122192928e5))*1e4+h)%4294967296;u[d++]=y>>>24&255,u[d++]=y>>>16&255,u[d++]=y>>>8&255,u[d++]=255&y;var f=m/4294967296*1e4&268435455;u[d++]=f>>>8&255,u[d++]=255&f,u[d++]=f>>>24&15|16,u[d++]=f>>>16&255,u[d++]=p>>>8|128,u[d++]=255&p;for(var v=0;v<6;++v)u[d+v]=c[v];return a||(0,r.Z)(u)}},214172:(e,a,t)=>{var n;t.r(a),t.d(a,{default:()=>l});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BestPinCardAttribution_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="610a35d46510240eb58e262c1909310c";let l=i},727128:(e,a,t)=>{var n,i,l;t.r(a),t.d(a,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BestPinCardBody_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"lastRepinDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[l={alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{args:null,kind:"FragmentSpread",name:"RecipeMetadata_recipe"}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"repinCount",storageKey:null},l,{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"useNormalizePinData_pin"},{args:null,kind:"FragmentSpread",name:"BestPinCardAttribution_pin"}],type:"Pin",abstractKey:null};r.hash="833cd5d58bc1ac105444aa923e882675";let s=r},543978:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ExperimentalScrollableOneBar_oneBarModules",selections:[{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"OneBarModule_oneBarModules"}],type:"OneBarModule",abstractKey:null};n.hash="7570d981c88358e1f608e0af521e5254";let i=n},365402:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FlashlightCropperContainer_pin",selections:[{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"FlashlightSpotlightDots_pin"},{args:null,kind:"FragmentSpread",name:"StelaCutouts_pin"}],type:"Pin",abstractKey:null};n.hash="4c094b2f5fd711f63313c83eac8ecfc5";let i=n},604733:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FlashlightResultGrid_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],type:"Pin",abstractKey:null};n.hash="0e18466f59f891e9ea12d1c056d9f627";let i=n},646920:(e,a,t)=>{var n;t.r(a),t.d(a,{default:()=>l});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null}],type:"Pin",abstractKey:null};i.hash="cabaa35ed7d59dee006897bf3ef32e3d";let l=i},206146:(e,a,t)=>{var n;t.r(a),t.d(a,{default:()=>l});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RecipeMetadata_recipe",selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTimes",kind:"LinkedField",name:"cookTimes",plural:!1,selections:[{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"cook",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"m",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"prep",plural:!1,selections:n,storageKey:null}],storageKey:null}],type:"RecipeMetadata",abstractKey:null};i.hash="12f77507a9fdec344b44b7e659fa5ac1";let l=i},306569:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RelatedProductsImageContent_pin",selections:[{args:null,kind:"FragmentSpread",name:"FlashlightCropperContainer_pin"}],type:"Pin",abstractKey:null};n.hash="d3343cbed0df46adae9a256f0fc6f167";let i=n},761650:(e,a,t)=>{var n,i,l,r,s;t.r(a),t.d(a,{default:()=>d});let o={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"RelatedProductsPageQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[l,{args:null,kind:"FragmentSpread",name:"RelatedProductsPage_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"RelatedProductsPageQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[l],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[l,s],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},s],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"03eb828de8d2e9a4c8e1d3c0a94f7ea7fe306fd1717cc09995da1518d6549cf1",metadata:{},name:"RelatedProductsPageQuery",operationKind:"query",text:null}};o.hash="0a96a1ee859bcb7fedbf477060a5beb3";let d=o;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let a=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[a]=e}}}(o.default||o)},4738:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RelatedProductsPage_pin",selections:[{args:null,kind:"FragmentSpread",name:"VisualSearchPageWithPinData_pin"}],type:"Pin",abstractKey:null};n.hash="91d05676e413b7b47653c2f8fa609093";let i=n},441089:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RelatedProductsUnifiedFeed_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};n.hash="395dd0c72ba79e629fa9cf482a4b73d6";let i=n},431696:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StelaCutouts_pin",selections:[{args:null,kind:"FragmentSpread",name:"StelaCutout_pin"}],type:"Pin",abstractKey:null};n.hash="aa969bf48facf77e13c5fc82deaa909e";let i=n},572394:(e,a,t)=>{var n,i,l,r,s,o,d,u,c,p,g,m,h,_,y,f,v,S,w,x;t.r(a),t.d(a,{default:()=>P});let b=(n=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],i=[{kind:"Variable",name:"pin",variableName:"pinId"}],l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},c=[o={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],p=[u,d,o],g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},h=[{alias:null,args:null,kind:"ScalarField",name:"m",storageKey:null}],y={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:_=[l],storageKey:null},{fragment:{argumentDefinitions:n,kind:"Fragment",metadata:null,name:"UnauthDesktopFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[l,{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"UnauthDesktopFlashlightPageFetchData_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"UnauthDesktopFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},r,{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},s],storageKey:null},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"564x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"orig")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"736x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"lastRepinDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},r,s,{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[g,{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[m,{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTimes",kind:"LinkedField",name:"cookTimes",plural:!1,selections:[{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"cook",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"prep",plural:!1,selections:h,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[l,g,y,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:_,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[g,y,{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[f={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null},S,l],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"repinCount",storageKey:null},m,{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:x=[d],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:x,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:x,storageKey:'images(spec:"170x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:x,storageKey:'images(spec:"600x315")'},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[w,g,{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},d,S],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[w,v,{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},f,S],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null},S],storageKey:null},S],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"6cdf0568ef4791ef0418ee1fe441fb842acf50d89807fd6a9eb18334133da65a",metadata:{},name:"UnauthDesktopFlashlightPageFetchDataPinQuery",operationKind:"query",text:null}});b.hash="3904efe87290878b8559da8f51b4bd16";let P=b;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let a=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[a]=e}}}(b.default||b)},925517:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopFlashlightPageFetchData_pin",selections:[{args:null,kind:"FragmentSpread",name:"UnauthDesktopFlashlightPage_pin"}],type:"Pin",abstractKey:null};n.hash="01839fc3bcd9cdaf206873364167d157";let i=n},407303:(e,a,t)=>{var n;t.r(a),t.d(a,{default:()=>l});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopFlashlightPage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null}],storageKey:null},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"orig")'},{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"},{args:null,kind:"FragmentSpread",name:"BestPinCardBody_pin"},{args:null,kind:"FragmentSpread",name:"FlashlightCropperContainer_pin"}],type:"Pin",abstractKey:null};i.hash="80808af4cef3901a9ce9bec48f33c09b";let l=i},574554:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualLiveSearchProductFeedResourceContainer_pin",selections:[{args:null,kind:"FragmentSpread",name:"VisualSearchContainer_pin"}],type:"Pin",abstractKey:null};n.hash="b69967adff40ae068eb5d3aad8f106f3";let i=n},941845:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualLiveSearchResourceContainer_pin",selections:[{args:null,kind:"FragmentSpread",name:"VisualSearchContainer_pin"}],type:"Pin",abstractKey:null};n.hash="9d37ca13b584492c1fba958c00317b73";let i=n},187962:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualSearchContainer_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"},{args:null,kind:"FragmentSpread",name:"useGetViewLog_pin"},{args:null,kind:"FragmentSpread",name:"RelatedProductsImageContent_pin"},{args:null,kind:"FragmentSpread",name:"RelatedProductsUnifiedFeed_pin"},{args:null,kind:"FragmentSpread",name:"FlashlightResultGrid_pin"}],type:"Pin",abstractKey:null};n.hash="ecc8a2a34b852db42ada7b81f966ef5a";let i=n},383855:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualSearchPageWithPinData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetInitialCropArea_pin"},{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"},{args:null,kind:"FragmentSpread",name:"VisualLiveSearchProductFeedResourceContainer_pin"},{args:null,kind:"FragmentSpread",name:"VisualLiveSearchResourceContainer_pin"},{args:null,kind:"FragmentSpread",name:"VisualSearchUnifiedResourceContainer_pin"}],type:"Pin",abstractKey:null};n.hash="559409b5cdf594ceadec1100a8e980f8";let i=n},376194:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualSearchUnifiedResourceContainer_pin",selections:[{args:null,kind:"FragmentSpread",name:"VisualSearchContainer_pin"}],type:"Pin",abstractKey:null};n.hash="7074039637fc6e2b8dd0bdad128d63c8";let i=n},478976:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetInitialCropArea_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"}],type:"Pin",abstractKey:null};n.hash="120ad104e33b94ab10be1098dc10d74b";let i=n},682230:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetViewLog_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};n.hash="4d2dba5ab4f3957f62edf10d66e5a060";let i=n},312296:(e,a,t)=>{var n;t.r(a),t.d(a,{default:()=>l});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useNormalizePinData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:n=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null}],type:"Pin",abstractKey:null};i.hash="01a93671cde480baa2cfd8b781589acd";let l=i},373462:(e,a,t)=>{var n;t.r(a),t.d(a,{default:()=>l});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinImageUrls_pin",selections:[{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};i.hash="b7ea441f2c20a68b323088ebe3847835";let l=i},354174:(e,a,t)=>{t.d(a,{Z:()=>S});var n,i=t(667294),l=t(167912),r=t(616550),s=t(883119),o=t(5629),d=t(99641),u=t(955937),c=t(144326),p=t(635284),g=t(774980),m=t(297728),h=t(730212),_=t(453854),y=t(211397),f=t(785893);let v=void 0!==n?n:n=t(543978);function S({hasProductFiltersApplied:e,hrefOverride:a,itemHeight:t=o.Lu,marginBottom:n=o.JC,paddingBottom:S=o.uS,paddingX:w=o.jf,oneBarModulesKey:x,oneBarModulesRest:b,onFilterButtonClick:P,setIsEducationModalOpen:k,viewParameter:T,viewType:I}){let E=(0,i.useRef)(null),A=E.current?.firstElementChild?.firstElementChild?.firstElementChild,[F,C]=(0,i.useState)(0),[R,O]=(0,i.useState)(0),[L,j]=(0,i.useState)(!1),[D,N]=(0,i.useState)(!1),[M,K]=(0,i.useState)(0),Z=(0,r.TH)(),U=(0,c.ZP)(),{checkExperiment:z}=(0,m.F)(),{isRTL:G}=(0,h.B)(),B=(0,i.useRef)(!1),H=(0,y.Z)(),V=e=>{z("dweb_search_resource_fast_fetch_non_product_one_bar_searches").anyEnabled&&e&&H({url:e})},W=new g.ZP,Y=(0,l.useFragment)(v,x),$=Y&&[Y]||b;(0,i.useEffect)(()=>{let e=e=>{"Tab"===e.key&&(B.current=!1)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[]),(0,i.useEffect)(()=>{C(0)},[Z]),(0,i.useEffect)(()=>{O(A?.clientWidth||0);let e=(0,u.Z)(()=>{O(A?.clientWidth||0)},200);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[A]),(0,i.useEffect)(()=>{let e=E.current;return e&&p.Z.addObstruction("top",e),()=>{e&&p.Z.removeObstruction("top",e)}}),(0,i.useEffect)(()=>{let e=A?.scrollWidth||0,a=0;for(let e=0;e<F;e+=1)a+=A?.children[e]?.offsetWidth||0;let t=e-a,n=R>=e;j(F>0&&!n),N(t>R&&F<$.length&&!n),K(a)},[A,F,$.length,R,M,G]);let Q=()=>{F+3<$.length?C(F+3):C($.length-1)},q=()=>{F-3>=0?C(F-3):C(0)};return $.length>0&&(0,f.jsx)(_.q,{children:({hovered:i,onMouseEnter:l,onMouseLeave:r})=>(0,f.jsxs)(s.xu,{ref:E,color:"default",dangerouslySetInlineStyle:{__style:{paddingBottom:S}},"data-root-margin":"search-one-bar","data-test-id":"scrollable-one-bar-root",marginBottom:n,onMouseEnter:l,onMouseLeave:r,position:"relative",children:[(0,f.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{overflowX:"clip"}},paddingX:w,position:"relative",children:(0,f.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{[G?"right":"left"]:`-${M}px`,transition:"left 0.3s, right 0.3s"}},position:"relative",children:(0,f.jsx)(s.kC,{alignItems:"center",gap:{row:2,column:0},height:t,children:$.map((t,n)=>(0,f.jsx)(s.xu,{onFocus:()=>{B.current||C(n)},onMouseDown:()=>B.current=!0,children:(0,f.jsx)(d.bV,{earlyFetchSearchResource:V,hasProductFiltersApplied:e,hrefOverride:a,impressionsFramework:W,index:n,module:t,oneBarModulesKey:Y??null,onFilterButtonClick:P,setIsEducationModalOpen:k,viewParameter:T,viewType:I})},`OneBarModule-${t.entityId||t.id||""}`))})})}),i&&(0,f.jsxs)(s.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{background:(0,o.KC)(G,L,D),paddingBottom:o.uS,paddingLeft:o.EA,paddingRight:o.EA,pointerEvents:"none"}},"data-test-id":"one-bar-navigation-arrows",display:"flex",justifyContent:"between",left:!0,position:"absolute",right:!0,top:!0,children:[(0,f.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:L&&(0,f.jsx)(s.hU,{accessibilityLabel:U._('Back', 'oneBar.navArrow.back', 'Accessibility laber for a button that navigates back to previous search guides'),bgColor:"white",icon:"arrow-back",onClick:q})}),(0,f.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:D&&(0,f.jsx)(s.hU,{accessibilityLabel:U._('Forward', 'oneBar.navArrow.forward', 'Accessibility laber for a button that navigates forward to see more search guides'),bgColor:"white",icon:"arrow-forward",onClick:Q})})]})]})})}},487211:(e,a,t)=>{t.d(a,{Z:()=>i});var n=t(297728);let i=()=>{let{checkExperiment:e}=(0,n.F)(),{anyEnabled:a}=e("web_search_hybrid_object_level_onebar");return a}},50165:(e,a,t)=>{t.d(a,{$:()=>c,r:()=>p});var n=t(667294),i=t(498490),l=t(989820),r=t(297728),s=t(730212),o=t(961754),d=t(785893);let{Provider:u,useHook:c}=(0,i.Z)("PinRep");function p({children:e}){let{isAuthenticated:a}=(0,s.B)(),{checkExperiment:t}=(0,r.F)(),{experience:i}=(0,l.Ow)(1000069),[c,p]=(0,n.useState)(!0),[g,m]=(0,n.useState)(!1),[h,_]=(0,n.useState)(!1),[y,f]=(0,n.useState)(null),[v,S]=(0,n.useState)(null),w=(0,l.oS)(1000069),{anyEnabled:x}=t("ap_bmi_custom_activation_nux_revamp_mweb_v2",{dangerouslySkipActivation:!0}),b=(0,o.Z)(a&&x?{name:"UserStateResource",options:{state:"QUICK_SAVES_BOARD_ID"}}:null).data;(0,n.useEffect)(()=>{if(!a){p(!1);return}i&&(!i||i?.experience_id===500417&&i?.display_data.hide_footer)?w.viewExperience(1000069,500417):p(!1),m(!0)},[i]);let P=(0,n.useMemo)(()=>({hasMetSaveRequirementOnUseCaseFeed:h,hasSimplifiedPinGridExpLoaded:g,hidePinRepFooter:c,quickSaveBoardId:b,setHasMetSaveRequirementOnUseCaseFeed:_,setUseCaseFeedOriginalPinId:S,setUseCaseFeedRepinId:f,useCaseFeedOriginalPinId:v,useCaseFeedRepinId:y}),[h,g,c,b,_,S,f,v,y]);return(0,d.jsx)(u,{value:P,children:e})}},847452:(e,a,t)=>{t.d(a,{n:()=>n});let n=20},767552:(e,a,t)=>{t.d(a,{Z:()=>i});var n=t(868808);function i(e,a,t){let i=(0,n.mB)(e.search),l=parseFloat(i.x??""),r=parseFloat(i.y??""),s=parseFloat(i.w??""),o=parseFloat(i.h??"");if(function(...e){return e.every(e=>e>=0&&e<=1)}(l,r,s,o)&&a&&t)return{x:Math.floor(l*a),y:Math.floor(r*t),w:Math.floor(s*a),h:Math.floor(o*t)};{let e=parseInt(i.x??"",10),a=parseInt(i.y??"",10),t=parseInt(i.w??"",10),n=parseInt(i.h??"",10);return!function(...e){return e.every(Number.isInteger)}(e,a,t,n)?null:{x:e,y:a,w:t,h:n}}}},945034:(e,a,t)=>{t.d(a,{Z:()=>p});var n=t(667294),i=t(883119),l=t(573706),r=t(144326),s=t(829413),o=t(235838),d=t(969119),u=t(682661),c=t(785893);function p({alignStart:e,commerceData:a,isFilterOpened:t,isProductFeed:p,searchId:g,viewParameter:m,viewType:h,visualSearchFlashlightUnifiedResource:_}){let y=(0,r.ZP)(),{logContextEvent:f}=(0,l.v)(),v=(0,n.useRef)(null),S=(0,n.useRef)(!1);(0,n.useEffect)(()=>{v.current?.handleResize()},[t]),(0,d.Z)(()=>{let e=(0,o.Z)(()=>{S.current||(f({event_type:110,view_type:h,view_parameter:m}),S.current=!0)},1e3);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)});let{data:w,isFetching:x,fetchMore:b,isAtEnd:P}=_,k=(w?.results||[]).filter(e=>"pin"===e.type);return(0,c.jsxs)(i.xu,{"data-test-id":"visual-search-feed",children:[(0,c.jsx)(i.xu,{children:(0,c.jsx)(s.Z,{isAtEndOfFeed:P,itemCount:(k||[]).length,children:(0,c.jsx)(i.Rk,{ref:v,align:e?"start":"center",items:k||[],loadItems:b,minCols:1,renderItem:({data:e,itemIdx:t})=>"pin"===e.type?(0,c.jsx)(u.ZP,{auxData:{commerce_data:a},componentType:0,duploQueryRef:null,pin:e,pinId:e.id,slotIndex:t,surface:p?"ShoppingDynamicHeightGrid":"SearchItem",viewData:{search_identifier:g},viewParameter:m,viewType:h}):null,scrollContainer:()=>window})})}),(0,c.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,c.jsx)(i.$j,{accessibilityLabel:y._('Loading visual search results', 'visualSearch.spinner.label', 'Accessibility label for spinner when loading the visual search results'),show:x})})]})}},339842:(e,a,t)=>{t.d(a,{Z:()=>n});function n(e){let{category_filters:a,domain_filters:t,price_filters:n}=e||{};return!!a||!!t||!!n}},934209:(e,a,t)=>{t.d(a,{Z:()=>d});var n=t(667294),i=t(339842),l=t(213512),r=t(135296),s=t(961754),o=t(296209);function d({resourceOptions:e,setFlashlightSearchId:a}){let[t,d]=(0,n.useState)(),[u,c]=(0,n.useState)(""),[p,g]=(0,n.useState)(),[m,h]=(0,n.useState)({}),{cachedOneBarModules:_,setCachedOneBarModules:y}=(0,l.t)(),f=(0,s.Z)(e?{name:"VisualSearchFlashlightUnifiedResource",options:e}:null),{auxData:v}=f,S=v?.metadata?.one_bar_modules,w=(()=>{if(!e)return"";let{crop:a,pin_id:t,search_query:n,entrypoint:i}=e;if("shop_the_look_module"===i||"stela_landing_page_category_filter"===i)return t;let l=t;if(a){let{x:e,y:t,w:n,h:i}=a;l+=`${e}-${t}-${n}-${i}`}return n&&(l+=n),l})();return(0,n.useEffect)(()=>{if(S){let e=(0,r.Z)(o.Z,!0)(S);h(a=>({...a,[w]:e}))}},[S,w]),(0,n.useEffect)(()=>{y?.(m[w]||[])},[m,w,y]),(0,n.useEffect)(()=>{let{data:e}=f,t=e?.search_identifier;t&&(a?a(t):c(t)),d(e)},[a,f]),(0,n.useEffect)(()=>{let{data:e}=f,a=e?.search_identifier,n=t?.search_identifier;!e||a&&n&&a===n||(0,i.Z)(t)||!(0,i.Z)(e)||g({category_filters:e.category_filters,domain_filters:e.domain_filters,price_filters:e.price_filters})},[p,t,f]),{filters:p,oneBarModules:_,searchId:u,setSearchId:c,visualSearchFlashlightUnifiedResource:f}}},39929:(e,a,t)=>{t.d(a,{Z:()=>_});var n=t(667294),i=t(883119),l=t(785893);function r({isTopRow:e,image:a}){return(0,l.jsxs)(i.zd,{height:e?217:168,wash:!0,width:e?236:117,children:[(0,l.jsx)(i.Ee,{alt:a.alt||"",fit:"cover",naturalHeight:a.height??1,naturalWidth:a.width??1,src:a.url??""}),!!a.price&&(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:"18px",color:"#111",fontSize:"10px",fontWeight:"600",lineHeight:"24px",padding:"06px"}},"data-test-id":"shopping-upsell-price",height:24,left:!0,margin:1,paddingX:2,paddingY:1,position:"absolute",top:!0,children:a.price})]})}var s=t(573706),o=t(559028),d=t(788388),u=t(945960),c=t(648089),p=t(596530),g=t(96405);let m={container:{borderRadius:`${u.Oc}px ${u.Oc}px 25px 25px`,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},content:{marginBottom:"2px"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, .1)"}},h=({images:e,firstImageIndex:a})=>{let t=a+1,n=a+2;return(0,l.jsxs)(i.xu,{overflow:"hidden",rounding:4,children:[(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:m.content},children:e.at(a)?(0,l.jsx)(r,{image:e[a],isTopRow:!0}):null}),e.length>n?(0,l.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,l.jsx)(r,{image:e[t]}),(0,l.jsx)(r,{image:e[n]})]}):null]})};function _({dangerouslySetActionUrl:e,query:a,story:t,slotIndex:r}){let u,_,y,f,v;let{logContextEvent:S}=(0,s.v)(),{action:w,id:x,objects:b,story_type:P,subtitle:k}=t,{text:T,url:I}=w||{},[E,A]=(0,n.useState)(!1),F=(0,n.useCallback)(()=>A(!0),[A]),C=(0,n.useCallback)(()=>A(!1),[A]),R=(b||[]).reduce((e,a)=>"pin"!==a.type?e:[...e,{domain:a.domain,image:{alt:a.title||a.description,height:a.images?.["474x"]?.height,url:a.images?.["474x"]?.url,width:a.images?.["474x"]?.width,price:(a.rich_summary?.products?.[0]||{}).offer_summary?.price}}],[]),O=(R[0]||{}).domain||void 0;["search_product_collage_story","shop_article_story"].includes(P)?(u=2,_=43,y={story_id:x,story_type:P,entered_query:a}):"shop_brand_story"===P||"shop_brand_affinity_story"===P?(u=1,_=92,O&&(y={story_type:P,commerce_data:JSON.stringify({domain:O})})):["stela_in_flashlight_card","stela_in_flashlight_onecol"].includes(P)?(u=72,_=3050):"related_domain_collage"===P?(u=72,_=3455):"related_products_collage"===P&&(u=1,_=3177);let L=()=>S({event_type:101,element:372,component:200,view_type:u,view_parameter:_,aux_data:{story_type:P}}),j=k?4:2;if(["related_domain_collage","shop_brand_story","shop_brand_affinity_story"].includes(P)&&w){let e=w.user;f=e&&(e.image_medium_url||e.image_large_url),v=e&&e.full_name}let D=e||I;if(!D)return null;let N=(0,c.Z)({url:D})?"nofollow":"none";return(0,l.jsx)(d.F,{componentType:200,contextLogData:y||{},impressionType:"Story",loggingId:P,slotIndex:r,viewParameter:_,viewType:u,children:({impressionTrackerRef:e})=>(0,l.jsx)(i.xu,{ref:e,children:(0,l.jsx)(i.Tg,{href:D,onTap:L,rel:N,children:(0,l.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:m.container},onMouseEnter:F,onMouseLeave:C,overflow:"hidden",position:"relative",children:[(0,l.jsx)(h,{firstImageIndex:["related_domain_collage","related_products_collage"].includes(P)?1:0,images:R.map(({image:e})=>e)}),(0,l.jsx)(i.xu,{alignItems:"center",color:"secondary",display:"flex",justifyContent:"center",marginTop:2,paddingX:3,paddingY:j,rounding:"pill",children:(0,l.jsxs)(i.xu,{alignContent:"start",direction:"column",display:"flex",justifyContent:"center",margin:2,children:[k?(0,l.jsx)(i.xu,{marginBottom:1,children:(0,l.jsx)(i.xv,{align:"start",color:"subtle",children:k.format})}):null,(0,l.jsx)(i.xv,{align:"start",weight:"bold",children:T})]})}),v&&f&&(0,l.jsx)(i.xu,{margin:2,position:"absolute",right:!0,top:!0,children:(0,l.jsx)(o.qE,{name:v,outline:!0,size:"md",src:f})}),(0,l.jsx)(p.Z,{visibility:E?"visible":"none",children:(0,l.jsx)(g.Z,{additionalStyles:m.visualOverlay})})]})})})})}},213512:(e,a,t)=>{t.d(a,{p:()=>o,t:()=>s});var n=t(667294),i=t(498490),l=t(785893);let{Provider:r,useHook:s}=(0,i.Z)("VisualShopContext");function o({children:e}){let[a,t]=(0,n.useState)(),i=(0,n.useRef)(0),s=(0,n.useRef)("");return(0,l.jsx)(r,{value:{cachedOneBarModules:a,setCachedOneBarModules:t,imageContainerScrollTop:i,imageContainerScrollTopForPinId:s},children:e})}},219867:(e,a,t)=>{t.d(a,{Z:()=>P});var n,i,l=t(667294);t(167912);var r=t(616550),s=t(284882),o=t(414504),d=t(47848),u=t(297728),c=t(961754),p=t(689121),g=t(74264),m=t(665992),h=t(122882),_=t(302669),y=t(883119),f=t(824396),v=t(425423),S=t(785893);let w=void 0!==n?n:n=t(431696);function x({cutoutsData:e,height:a,pinKey:n,pinImageHovered:i,surfaceType:r,trafficSource:s,width:o}){let c=(0,d.Z)(w,n),{checkExperiment:p}=(0,u.F)(),[g,m]=(0,l.useState)(null),{cutoutContours:h,setCutoutContours:_,scaledValues:x,setScaledValues:b}=(0,v.Z)(),P=(0,l.useCallback)(async(e,a,n,i,l,r,s,o)=>{let d=await t.e(18893).then(t.bind(t,618893)),u=await t.e(69670).then(t.bind(t,469670)),{ContourTracer:c}=d;await u.default();let p=new c,g=await createImageBitmap(new Blob([Uint8Array.from(atob(a),e=>e.charCodeAt(0))],{type:"image/png"})),m=p.trace(g,{useAlpha:!1,threshold:80}),h=n*l,y=i*r;_?.(a=>({...a,[e]:m})),b?.(a=>({...a,[e]:{scaledX:h/g.width,scaledY:y/g.height,scaledWidth:h,scaledHeight:y,xRatio:s,yRatio:o,hRatio:r,wRatio:l}}))},[_,b]);(0,l.useEffect)(()=>{e?.bitmap_masks&&e.bitmap_masks.forEach(e=>{let{id:t,mask_image:n,mask_bounds:i}=e;if(!t||!n||!i?.[0]||!i?.[1])return;let[l,r]=i[1],[s,d]=i[0];[l,r,s,d].every(e=>void 0!==e)&&P(t,n,o,a,l,r,s,d)})},[e,o,a,P]);let k=(0,l.useMemo)(()=>{let e={};return h&&Object.entries(h).forEach(([a,t])=>{t&&(e[a]=t.map(e=>{let a=e.points.map(e=>e.x),t=e.points.map(e=>e.y);return{minX:Math.min(...a),minY:Math.min(...t),maxX:Math.max(...a),maxY:Math.max(...t)}}))}),e},[h]);return p("web_cutouts").anyEnabled||h&&!(Object.keys(h).length<1)?(0,S.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},height:a,onMouseLeave:()=>m(null),onMouseMove:t=>{let n=t.currentTarget.getBoundingClientRect(),i=t.clientX-n.left,l=t.clientY-n.top,r=null;for(let t in h){let n=h[t],s=x?.[t];if(!s||!n)return;let d=e?.bitmap_masks.find(e=>e.id===t);if(!d?.mask_bounds)return;let[u,c]=d.mask_bounds[0]??[0,0],{scaledX:p,scaledY:g}=s,m=(i-u*o)/p,_=(l-c*a)/g;if(n.some((e,a)=>{let n=k[t]?.[a];return n&&m>=n.minX&&m<=n.maxX&&_>=n.minY&&_<=n.maxY&&function(e,a){let{x:t,y:n}=e,i=!1,l=0,r=a.length-1;for(;l<a.length;){let{x:e,y:s}=a[l],{x:o,y:d}=a[r];s>n!=d>n&&t<(o-e)*(n-s)/(d-s)+e&&(i=!i),r=l,l+=1}return i}({x:m,y:_},e.points)})){r=t;break}}r!==g&&m(r)},position:"relative",width:o,children:h&&Object.entries(h).map(([t,n])=>{if(!n||0===n.length)return null;let l=e?.bitmap_masks.find(e=>e.id===t);if(!l)return null;let{mask_bounds:d,is_hidden:u}=l;if(!d||2!==d.length||!x[t])return null;let{scaledX:p,scaledY:h,scaledWidth:_,scaledHeight:y}=x[t];return(0,S.jsx)(f.Z,{contours:n,handleMouseLeave:()=>m(null),hoveredCutoutId:g,id:t,isHidden:!!u,maskBounds:d,pinImageHeight:a,pinImageHovered:i,pinImageWidth:o,pinKey:c,scaledHeight:y,scaledWidth:_,scaledX:p,scaledY:h,surfaceType:r,trafficSource:s},t)})}):null}let b=void 0!==i?i:i=t(365402);function P({cropArea:e,customCropper:a,imageSignature:t,imageSize:n,pinId:i,pinKey:y,requestParams:f,showAnimation:v,surfaceType:w,trafficSource:P,viewParameter:k,viewType:T}){let{checkExperiment:I}=(0,u.F)(),E=(0,d.Z)(b,y),A=(0,r.k6)(),F=I("web_cutouts").anyEnabled,{data:C}=(0,c.Z)(F?{name:"ApiResource",options:{url:`/v3/pins/${i}/segmentation/sam/`,data:{client:"visual_cutout",cleanup_masks:!0}}}:null),[R,O]=(0,l.useState)(void 0),[L,j]=(0,l.useState)(!1),[D,N]=(0,l.useState)({x:0,y:0,w:0,h:0}),M=(0,l.useMemo)(()=>(E.visualObjects??[]).filter(e=>e.isStela).map(_.Z),[E.visualObjects]),[{dotIndexToHide:K},Z]=(0,l.useState)((0,p.Z)(M,(0,g.Z)({cropArea:e,scaledHeight:n.height??0,scaledWidth:n.width??0}))),U=M&&!!M.length;(0,l.useEffect)(()=>{void 0===R&&(F?U&&C&&C?.bitmap_masks&&O(!!C.bitmap_masks):O(!1))},[F,C,U,R]);let z=({cropArea:e,cropSource:a,title:t})=>{let i=(0,p.Z)(M,(0,g.Z)({cropArea:e,scaledHeight:n.height??0,scaledWidth:n.width??0}));Z(i);let l=i.isCropAreaOnDotArea?R?9:4:a,r=window.location.search,s=(0,h.Z)({cropArea:e,cropSource:l,requestParams:f,surfaceType:w,title:t,trafficSource:P});s!==r&&A.replace({pathname:window.location.pathname,search:s,state:{internalNavigation:!0}})};return(0,S.jsxs)(s.Z,{cropArea:e,imageSize:n,onChange:a??z,previewCropArea:D,showPreviewArea:!1,viewParameter:k,children:[!1===R&&U&&(0,S.jsx)(o.Z,{currentSpotlightIdx:K,handleSpotlightClick:e=>{let{x:t,y:i,w:l,h:r,title:s}=M[e],o={cropArea:(0,m.Z)({cropArea:{x:t,y:i,w:l,h:r},scaledHeight:n.height??0,scaledWidth:n.width??0}),cropSource:4,trafficSource:P,title:s||""};a?a(o):z(o)},handleSpotlightHover:e=>{if(e===K)return;let{x:a,y:t,w:i,h:l}=M[e];N((0,m.Z)({cropArea:{x:a,y:t,w:i,h:l},scaledWidth:n.width??0,scaledHeight:n.height??0})),j(!0)},handleSpotlightUnhover:()=>{j(!1)},imageSignature:t,imageSize:n,pinKey:E,showAnimation:v,viewParameter:k,viewType:T}),R&&!!C&&n.height&&n.width&&(0,S.jsx)(x,{cutoutsData:C,height:n.height,pinKey:E,surfaceType:w,width:n.width})]},JSON.stringify(e))}},945960:(e,a,t)=>{t.d(a,{Dv:()=>r,Kn:()=>i,Ml:()=>s,Oc:()=>n,mv:()=>l});let n=16,i=`${n}px ${n}px 0 0`,l=4,r={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},s=120},499068:(e,a,t)=>{t.d(a,{Pw:()=>n,SB:()=>i,ZP:()=>r,x9:()=>l});let n=80,i=56,l=e=>"phone"===e?i:n;function r(e,a){return a?0:l(e)}},431705:(e,a,t)=>{t.d(a,{$N:()=>m,Cu:()=>_,GY:()=>u,MZ:()=>s,NR:()=>c,bC:()=>h,fm:()=>n,id:()=>l,kM:()=>r,q6:()=>i,qp:()=>d,uV:()=>p,ug:()=>g,xL:()=>o});let n={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",BULK_ID_LIBRARY:"BULK_ID_LIBRARY",RESOURCES:"RESOURCES"},i={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},l={INTEREST:"INTEREST",DEVICE:"DEVICE",LANGUAGE:"LANGUAGE",LOCATION:"LOCATION",LOCATION_COUNTRY:"LOCATION_COUNTRY",LOCATION_METRO:"LOCATION_METRO",LOCATION_REGION:"LOCATION_REGION",AUDIENCE:"AUDIENCE",TARGETING_TEMPLATE:"TARGETING_TEMPLATE",CONVERSION_TAG:"CONVERSION_TAG"},r={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},s={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce",SEGMENT:"Segment",BRANCH:"Branch",HIGHTOUCH:"Hightouch",EULERIAN:"Eulerian",ADOBE_CDP:"Adobe Real-Time CDP",ADOBE_COMMERCE:"Adobe Commerce",SALESFORCE_COMMERCE_CLOUD:"Salesforce Commerce Cloud",PINTEREST_CAPI_CONNECT:"Pinterest CAPI Connect"},o={GTM:"GTM",SHOPIFY:"SHOPIFY",WORDPRESS:"WORDPRESS",WOOCOMMERCE:"WOOCOMMERCE",TEALIUM:"TEALIUM"},d={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API",NOCODE_CONVERSIONS_API_SETUP_FLOW:"NOCODE_CONVERSIONS_API_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:"PINTEREST_EVENTS_OVERVIEW_CAPI_TAB",PINTEREST_EVENT_HISTORY_CAPI_TAB:"PINTEREST_EVENT_HISTORY_CAPI_TAB"},u={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},c={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",HOSTNAME:"hostname",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},p="604800",g="86400",m={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"},h="click",_="view"},829196:(e,a,t)=>{t.d(a,{YS:()=>s,eF:()=>o,m_:()=>r});var n=t(431705),i=t(194093),l=t(415787);function r(e,a,t,i,r){let s=new URLSearchParams,o=a.reduce((e,a)=>{if(null!=a){let t=function(e){let a;try{a=decodeURIComponent(e)}catch(t){a=e}a.startsWith("http")?a.startsWith("http://")&&(a=a.replace("http://","https://")):a="https://"+a;try{return new URL(a).origin}catch(n){let t=a.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(t&&t.length>1)return t[1];return e}}(a);return e.add(t)}return e},new Set);s.append(n.NR.SOURCE_EVENT_ID,e??"0"),s.append(n.NR.DESTINATION,JSON.stringify([...o])),s.append(n.NR.EXPIRY,t?n.uV:n.ug),s.append(n.NR.PRIORITY,t?n.NR.CLICK_PRIORITY:n.NR.VIEW_PRIORITY),r&&s.append(n.NR.ADVERTISER_ID,r),i&&s.append(n.NR.CAMPAIGN_ID,i),s.append(n.NR.SOURCE_EVENT_TYPE,t?n.bC:n.Cu);try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&s.append(n.NR.HOSTNAME,e)}catch(e){(0,l.nP)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+s.toString()}async function s(e,a,t,n,s,o,d,u,c){let p;let{appType:g,osType:m}=o||{},h="",_="";if(["Pin","pinImpressions"].includes(e)&&a&&(n||u||c)){(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:g,osType:m}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting")){(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:g,osType:m}});return}h=r(t,[n,u,c],!1,s,d);try{_=new URL(window.location.href).hostname}catch(e){(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(_&&"www.pinterest.com"!==_)document.createElement("img").setAttribute("attributionsrc",h),(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:g,osType:m,hostname:_}});else if(!(p=await window.fetch(h,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}})).ok)throw Error("server request failed.");(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:g,osType:m}})}catch(e){(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:(0,i.Z)(e,"name"),message:(0,i.Z)(e,"message"),appType:g,osType:m,hostname:_,responseStatus:p&&p.status}})}}else(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:g,osType:m}})}function o(e){if(e){let a=e.toLowerCase();if(a.includes("windows"))return"windows xp"===a?1:"windows vista"===a?2:"windows 7"===a?3:"windows 8"===a?4:12;if(a.includes("mac os"))return 5;if(a.includes("android"))return 7;if(a.includes("ios"))return 6;if(a.includes("ubuntu"))return 8;if(a.includes("chromium os"))return 13}return 0}},934980:(e,a,t)=>{t.d(a,{CC:()=>i,Ll:()=>r,XF:()=>l});let n=(e,a,t)=>({x:Math.floor(e*Math.cos(t)),y:Math.floor(a*Math.sin(t))}),i=(e,a)=>n(a/2,e/2,2*Math.random()*Math.PI),l=(e,a)=>Math.floor(Math.random()*(a-e+1))+e,r=e=>["@-webkit-keyframes","@keyframes"].map(a=>e.map(e=>a+" "+e).join("\n")).join("\n")},118755:(e,a,t)=>{t.d(a,{G6:()=>l,i7:()=>r,oi:()=>n,u$:()=>i,un:()=>o,vU:()=>s,w1:()=>d});let n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),i=e=>e?e.includes("Chrome")?n.CHROME:e.includes("Safari")?n.SAFARI:e.includes("Firefox")?n.FIREFOX:e.includes("Opera")?n.OPERA:e.includes("IE")?n.IE:e.includes("Edge")?n.EDGE:n.OTHER:n.OTHER;function l(e){return i(e)===n.SAFARI}function r(e){return i(e)===n.CHROME}function s(e){return i(e)===n.FIREFOX}function o(e){return i(e)===n.EDGE}function d(e){return i(e)===n.IE}},619348:(e,a,t)=>{t.d(a,{DW:()=>l,I:()=>i,oo:()=>n,zI:()=>r});let n=e=>{let a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return a&&[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]},i=.18,l=(e,a,t)=>.2126*(e/255)**2.2+.7151*(a/255)**2.2+.0721*(t/255)**2.2,r=e=>{let a=e.replace("#",""),t=parseInt(a.substr(0,2),16);return(299*t+587*parseInt(a.substr(2,2),16)+114*parseInt(a.substr(4,2),16))/1e3<155}},953059:(e,a,t)=>{t.d(a,{Z:()=>r,k:()=>n.kH});var n=t(557085),i=t(730212),l=t(785893);let r=({dateFormatType:e,useUTC:a=!0,value:t})=>(0,l.jsx)(i.LC,{children:i=>(0,n.ZP)(i.locale,t,e,a)})},557085:(e,a,t)=>{t.d(a,{A5:()=>l,ZP:()=>r,kH:()=>n});let n={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:"year_short_month_day_time_timezone",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit",TWO_DIGIT_YEAR:"two_digit_year"},i=function(e){switch(e){case n.YEAR:return{year:"numeric"};case n.LONG:return{year:"numeric",month:"long",day:"numeric"};case n.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case n.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case n.TWO_DIGIT_YEAR:return{year:"2-digit",month:"2-digit",day:"2-digit"};case n.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case n.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case n.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.MONTH_DAY:return{month:"long",day:"numeric"};case n.SHORT_MONTH:return{month:"short"};case n.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case n.DAY:return{day:"numeric"};case n.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case n.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case n.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case n.YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:return{month:"short",year:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.TIME:return{hour:"numeric",minute:"2-digit"};case n.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.HOUR:return{hour:"numeric"};default:throw Error('invalid dateFormatType "'+e+'"')}};function l(){return -1!==Intl.DateTimeFormat.toString().indexOf("[native code]")}function r(e,a,t,n=!0){let s=i(t);return n&&(s.timeZone="UTC"),l()||(s.calendar="gregory"),new Intl.DateTimeFormat(e,s).format(a)}},700198:(e,a,t)=>{t.d(a,{Z:()=>s});var n=t(667294),i=t(973935);function l(e,a,t){var n;return(a="symbol"==typeof(n=function(e,a){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,a||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?n:String(n))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}class r extends n.Component{constructor(...e){super(...e),l(this,"observer",null),l(this,"handleVisibilityChanged",(e,a)=>{this.props.onVisibilityChange(e,a)})}componentDidMount(){let e=i.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return n.Children.only(this.props.children)}}let s=r},830997:(e,a,t)=>{t.d(a,{g:()=>r,t:()=>l});var n=t(667294);let i=(0,n.createContext)(null),l=i.Provider,r=()=>(0,n.useContext)(i)},39260:(e,a,t)=>{t.d(a,{Z:()=>r});var n=t(297728),i=t(730212),l=t(855746);function r(e){let{isAuthenticated:a}=(0,i.B)(),{expName:t,anyEnabled:r,group:s}=function({experimentsClient:e,handlerId:a,isAuthenticated:t,skipActivation:n}){let{checkExperiment:i}=e,l=i(t?"web_masonry_v2_auth":"web_masonry_v2_unauth",{dangerouslySkipActivation:n});return l.group?{expName:t?"web_masonry_v2_auth":"web_masonry_v2_unauth",...l}:"www/[username]/[slug].js"!==a||t?"www/pin/[id].js"!==a||t?{expName:"",anyEnabled:!1,group:""}:{expName:"web_masonry_v2_unauth_pin",...i("web_masonry_v2_unauth_pin",{dangerouslySkipActivation:n})}:{expName:"web_masonry_v2_unauth_board",...i("web_masonry_v2_unauth_board",{dangerouslySkipActivation:n})}}({experimentsClient:(0,n.F)(),handlerId:(0,l.MM)(),isAuthenticated:a,skipActivation:e?.skipActivation??!1});return{expName:t,anyEnabled:r,group:s,isMeasureAllEnabled:"enabled_measure_all"===s||"enabled_measure_all_impression_fix"===s,isImpressionFixEnabled:"control_impression_fix"===s||"enabled_impression_fix"===s||"enabled_measure_all_impression_fix"===s}}},936437:(e,a,t)=>{t.d(a,{Z:()=>r});var n=t(967232),i=t(144326),l=t(240760);function r(){let e=(0,i.ZP)();return function(a,t){let i=new Date(a).getTime(),r=Date.now()-i,s=Math.floor(r/n.FS),o=Math.floor(r/n.UK),d=Math.floor(r/n.F4),u=Math.floor(r/n.VL),c=Math.floor(r/n.N9),p=Math.floor(r/n.N1),g=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', s, ' - ', ' -- '),m=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', o, ' - ', ' -- '),h=e.ngettext('{{ days }} day ago', '{{ days }} days ago', d, ' - ', ' -- '),_=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', u, ' - ', ' -- '),y=e.ngettext('{{ months }} month ago', '{{ months }} months ago', c, 'useGetHumanizedTimeSince.monthsString', 'months since last update'),f=e.ngettext('{{ years }} year ago', '{{ years }} years ago', p, ' - ', ' -- '),v=e.ngettext('{{ minutes }}m', '{{ minutes }}m', s, 'minutes ago abbreviated', 'minutes ago abbreviated'),S=e.ngettext('{{ hours }}h', '{{ hours }}h', o, 'hours ago abbreviated', 'hours ago abbreviated'),w=e.ngettext('{{ days }}d', '{{ days }}d', d, 'days ago abbreviated', 'days ago abbreviated'),x=e.ngettext('{{ weeks }}w', '{{ weeks }}w', u, 'weeks ago abbreviated', 'weeks ago abbreviated'),b=e.ngettext('{{ months }}mo', '{{ months }}mo', c, 'months ago abbreviated', 'months ago abbreviated'),P=e.ngettext('{{ years }}y', '{{ years }}y', p, 'years ago abbreviated', 'years ago abbreviated');return p>0?(0,l.nk)(t?P:f,{years:p}).join(""):c>0?(0,l.nk)(t?b:y,{months:c}).join(""):u>0?(0,l.nk)(t?x:_,{weeks:u}).join(""):d>0?(0,l.nk)(t?w:h,{days:d}).join(""):o>0?(0,l.nk)(t?S:m,{hours:o}).join(""):s>0?(0,l.nk)(t?v:g,{minutes:s}).join(""):e._('Just now', ' - ', ' -- ')}}},788388:(e,a,t)=>{t.d(a,{F:()=>y,Z:()=>_});var n=t(667294),i=t(829196),l=t(118755),r=t(573706),s=t(39260),o=t(635284),d=t(730212),u=t(410150),c=t(644797),p=t(243583),g=t(415787),m=t(855746);let h={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},CuratedBoard:{impressionType:"curatedBoardImpressions",idType:"curatedBoardIdStr",eventType:15555}};function _({carouselData:e,closeupImpressionType:a,closeupNavigationType:t,componentType:_,contextLogData:y,clientTrackingParams:f,duploShouldTrackPinEvents:v,elementType:S,impressionAuxFields:w,inImpressionExp:x,impressionType:b,impressionsFramework:P,isPaused:k,loggingId:T,objectIdStr:I,slotIndex:E,trackCarousel:A,viewData:F,viewParameter:C,viewType:R,isPromoted:O,storyPinProductEventData:L}){let{logContextEvent:j}=(0,r.v)(),{logMrcVideoAdEventOnPlay:D}=(0,c.r)(),{userAgent:{browserName:N}}=(0,d.B)(),{logStat:M}=(0,p.Yg)(),K=P||o.Z,Z=(0,n.useRef)(null),U=n=>{let r=h[b],s=r.idType,o={clientTrackingParams:f,endTime:n.endTime,[s]:T,slotIndex:E,time:n.startTime,renderDuration:n.endTime-n.startTime,type:a,...w,forcedExit:"removed"===n.forcedExit?0:void 0};if("Pin"===b){let e=[],a=n.visibleEvents||new Map,t=n.hiddenEvents||new Map;if([1,50,80,2].forEach(n=>{a.has(n)&&e.push({type:n,time:1e6*(a.get(n)||0),visible:!0}),t.has(n)&&e.push({type:n,time:1e6*(t.get(n)||0),visible:!1})}),o={...o,pinCellWidth:n.pinCellWidth||0,pinCellHeight:n.pinCellHeight||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight,visibleEvents:e.sort((e,a)=>e.time-a.time)},(0,l.i7)(N)&&w&&w.isPromoted){let{attributionSourceId:e,isPromoted:a,link:t,campaignId:n,araAuxData:l,advertiserId:r,domain:s,adDestinationUrl:o}=w;(0,i.YS)(b,a??null,e??null,t??null,n??null,l??null,r??null,s??null,o??null)}}let d={component:_,object_id_str:I,view_type:R,view_data:F||{},view_parameter:C};if(A)e&&A&&j({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...o,..."canonical"===e.type?{carouselDataId:Number(e.carouselId??0),slotIndex:e.index,carouselSlotId:e.carouselSlots?.[e.index??0]&&Number(e.carouselSlots[e.index??0].slotId)}:{carouselDataId:Number(e.id??0),carouselSlotId:e.carousel_slots?.[e.index??0]&&Number(e.carousel_slots[e.index??0].id),slotIndex:e.index}}]},...d,aux_data:{...y}});else{let e={clientTrackingParams:f,event_type:r.eventType,...d,element:S,event_data:{[r.impressionType]:"Story"===b?o:[o],...L?{storyPinProductEventData:L}:{}},aux_data:{closeup_navigation_type:t,...y}};j(e),D(e)}v&&M("log_pin_impression")},{expName:z,group:G}=(0,s.Z)({skipActivation:!0}),B=(0,u.ZP)(),H=(0,m.MM)(),{isAuthenticated:V}=(0,d.B)(),W=(0,n.useCallback)(()=>{let e=!1;try{let{current:a}=Z;if(a instanceof HTMLElement&&(!O||a.getElementsByTagName("img").length>0)){let t=K.start(a);t.onExitViewport(U).setDebugId(T||"unknown"),v&&t.onEnterViewport(()=>{M("log_pin_impression_track_enter_viewport")}),e=!0,G&&(0,g.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:B,experimentName:z,group:G,handlerId:H,isAuthenticated:V,slotIndex:E??"unknown"}})}}catch{window.console.error('Can only track impressions for type "HTMLElement"')}v&&M("log_pin_impression_track",{didStartTracking:e})},[Z.current]);return(0,n.useEffect)(()=>(x&&!K.inExperiment&&K.setExperimentStatus(!0),k||W(),()=>{let{current:e}=Z;e instanceof HTMLElement&&(!O||e.getElementsByTagName("img").length>0)&&K.stop(e)}),[k,W]),Z}let y=({children:e,...a})=>e({impressionTrackerRef:_(a)})},766546:(e,a,t)=>{t.d(a,{Z:()=>r});var n=t(667294);function i(e,a,t){var n;return(a="symbol"==typeof(n=function(e,a){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,a||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?n:String(n))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}class l extends n.Component{constructor(...e){super(...e),i(this,"ref",(0,n.createRef)()),i(this,"observer",null),i(this,"handleVisibilityChanged",(e,a)=>{this.props.onVisibilityChange(e,a)})}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}let r=l},206708:(e,a,t)=>{t.d(a,{Rq:()=>l,Vf:()=>r,jd:()=>s,oy:()=>o,yR:()=>c});var n=t(914896),i=t(790014);let l=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,r=28,s=e=>window.innerHeight>=748&&l(e),o=()=>"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||"MacIntel"===navigator.platform&&"ontouchend"in document&&Math.min(window.screen.width,window.screen.height)>=700),d=()=>{n.t8(i.oj,String(!0),(0,n.kZ)(i.oj))},u=()=>!!n.U2(i.oj),c=()=>{let e=o();e!==u()&&(e?d():n.zN(i.oj.name),"undefined"!=typeof window&&window.location.reload())}},775383:(e,a,t)=>{t.r(a),t.d(a,{default:()=>d});var n=t(883119),i=t(679482),l=t(206708),r=t(675625),s=t(730212),o=t(785893);let d=({children:e,dataLayoutShiftBoundaryId:a,hasFixedHeader:t=!1,hasGutter:d=!0,height:u,showKeychainError:c=!1,useViewport:p=!1})=>{let g=(0,s.B)(),m=(0,l.jd)(g.userAgent.platform)?l.Vf:0;return(0,o.jsx)(n.xu,{"data-layout-shift-boundary-id":a||"PageContainer",height:p?`calc(100vh - ${m}px)`:u,paddingX:d?i.D6:void 0,paddingY:t||c?void 0:3,children:(0,o.jsx)(r.C,{value:!!d,children:e})})}},675625:(e,a,t)=>{t.d(a,{C:()=>l,V:()=>r});var n=t(667294);let i=(0,n.createContext)(!1),l=i.Provider,r=()=>(0,n.useContext)(i)},812477:(e,a,t)=>{t.d(a,{Z:()=>l});var n=t(616550);let i=["/BingSiteAuth.xml","/about","/add-account","/ads","/ads.txt","/age_verification","/all","/app-ads.txt","/apple-app-site-association","/apple-app-site-association.p7m","/attribution_source","/bot.html","/branded-pins","/browserbutton","/buy-it","/careers","/categories","/close-account","/content-claiming","/convert-business","/convert-personal","/create-business","/create-personal","/creation-inspiration","/creator-onboarding-landing","/csrf_error","/ct.html","/deactivate-account","/deed6a3ef3a44d41bb3ae2bad137db84.txt","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/flyup-instant-loading-indicator-app-shell.html","/following","/getWebPushKey","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/homefeed","/idea-ads-tool","/idea-pin-builder","/ideas","/inbox","/install-shuffles","/invited","/jobs","/lens-search","/login","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/app-factory-oauth","/appealed-pin","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/parental-passcode","/pin-builder","/pin-creation-tool","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterest-predicts","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/product-catalogs","/public-beta","/quick-instant-loading-indicator-app-shell.html","/quick-lite-instant-loading-indicator-app-shell.html","/recently-viewed","/refresh_stored_accounts","/refresh_token","/report","/reports-and-violations","/request-data","/robots.txt","/safe-redirect","/search","/settings","/shopping","/signup","/socialmanager","/story-pin-builder","/story_feed","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/unauth-profile","/unlink","/upload-image","/upload-image-lens-history","/upload-lens-image","/upload-profile-image","/verified","/verify","/videos","/web-custom-svg","/web-mentorship","/welcome","/windows-app-web-link","/your-shop"];function l(e){return!!(0,n.LX)(e.pathname,{path:"/:username/",exact:!0})&&!i.includes(e.pathname.replace(/\/$/,""))}},753652:(e,a,t)=>{t.d(a,{Q6:()=>c,ZP:()=>o,le:()=>p,qe:()=>d,yU:()=>u});var n=t(785220),i=t(655201);let l=(e,a)=>e.length===a.length&&e.every((e,t)=>e===a[t]),r=e=>e;function s(e,a=l,t=r){return function(n){let i=[];return function(...l){let r=i.find(e=>a(e.args,t(l)));if(r)return r.result;let s=n(...l);return i.push({args:t(l),result:s}),e&&i.length>e&&i.shift(),s}}}let o=s(),d=s(1),u=s(void 0,l,e=>[JSON.stringify(e)]),c=s(0,(e,a)=>e.length===a.length&&e.every((e,t)=>(0,i.Z)(e,a[t]))),p=s(0,(e,a)=>e.length===a.length&&e.every((e,t)=>(0,n.ZP)(e,a[t])))},178793:(e,a,t)=>{t.d(a,{r:()=>n});function n(e,a,t){return!!(e&&e.trim().length>0&&a&&!t)}},26473:(e,a,t)=>{t.d(a,{Z:()=>n});function n({embedSrc:e,embedType:a,imagesUrls:t,preferredResolution:n,excludeOriginals:i}){if(!e&&!a&&!t)return"";if("gif"===a)return e||"";if(!t)return"";if(n){let e="474x"===n&&t["474x"]||"236x"===n&&t["236x"]||t["736x"];if(e)return e}let l=Object.keys(t).reduce((e,a)=>{try{let n=a.split("x")[0];if(Number.isNaN(Number(n)))return{...e,[a]:t[a]};return{...e,[n]:t[a]}}catch(a){return e}},{}),r=Object.keys(l);return i&&"orig"===r[r.length-1]&&r.pop(),l[r.pop()]||""}},786890:(e,a,t)=>{t.d(a,{eg:()=>r,kt:()=>h,rw:()=>g,fs:()=>u,eK:()=>c,Ly:()=>p,BY:()=>m,bN:()=>_,RC:()=>o,EU:()=>d});let n=/\s\s+/g,i=e=>e.replace(n," ");var l=t(715824);let r=Object.freeze(new Set(["sensitive_raw_pin_text","is_sensitive_rich_pin_description","is_sensitive_rich_pin_title","is_sensitive_board_title"])),s=e=>"string"==typeof e?e:"",o=({storyPinDataMetadataPinTitle:e,pinTitle:a})=>e||a,d=(e,a)=>e?e.trim().length>a?(0,l.ZP)(e.trim(),a).trim():e.trim():"",u=({pinTitle:e,gridTitle:a,richSummaryDisplayName:t,richMetadataTitle:n,storyPinDataId:i,storyPinDataMetadataPinTitle:l})=>{let r=l||e,s=d(a,200);return s||t||n||(i&&r?r:null)},c=e=>{let{richSummaryDisplayName:a}=e,t=e.pinJoinVisualAnnotation||[],n=e.pinJoinAnnotationsWithLinks||{},r=e.richMetadataDescription||"",s=e.closeupUnifiedDescription||"",o=t.map(e=>(n||{})[e]||{name:e,url:""}),d="",u=(a||"").toLocaleLowerCase().trim(),c=r.toLocaleLowerCase().trim(),p=s.toLocaleLowerCase().trim();return s&&s.length>3&&p!==u?d=s:r&&r.length>3&&c!==u&&(d=r),d&&(d=i((0,l.ZP)(d,496)).trim()),{description:d,annotationsWithLinks:o}},p=({pinTitle:e,gridTitle:a,richSummaryDisplayName:t,richMetadataTitle:n,storyPinDataId:i,storyPinDataMetadataPinTitle:l,pinJoinVisualAnnotation:s,seoNoindexReason:o,seoTitle:d})=>r.has(o??"")?d:u({pinTitle:e,gridTitle:a,richSummaryDisplayName:t,richMetadataTitle:n,storyPinDataId:i,storyPinDataMetadataPinTitle:l})||s?.[0]||e,g=(e,a,t,n,i)=>{let l=s(e).trim(),r=(e,a)=>a&&a.length>0?`${e} ${a.join(", ")}`:e;return n&&n.trim().length?r(n.trim(),t):i&&i.trim().length?i.trim():l?r(l,t):t?t.join(", "):""},m=e=>`/pin/${e}/`,h=(e,a)=>{let t=`Pinterest video from ${a}: `.concat(e);return""===a?e:t},_=({pinId:e,seoUrl:a})=>a&&"string"==typeof a?a:m(e)},220797:(e,a,t)=>{t.d(a,{Z:()=>s}),t(167912);var n,i=t(47848),l=t(144326);let r=void 0!==n?n:n=t(312296),s=e=>{let a;let t=(0,l.ZP)(),n=(0,i.Z)(r,e),s=n.trackedLink||n.link||n.imageSpec_orig&&n.imageSpec_orig.url,{richMetadata:o,richSummary:d}=n,u=t._('Saved from ', 'Closeup pin annotation', 'Closeup pin annotation');return o&&o.products&&o.products[0]&&o&&o.products[0].name&&o.products[0].offerSummary&&(u=t._('Product sold by ', 'pin annotation', 'pin annotation'),a=(o.products?.[0]||void 0)?.offerSummary),!a&&d&&d&&d.products&&d.products[0]&&d&&d.products[0].name&&d.products[0].offerSummary&&(u=t._('Product sold by ', 'pin annotation', 'pin annotation')),{pinLink:s,pinCreditPrefix:u,pinTitle:n.closeupUnifiedTitle,pinDescription:n.closeupUnifiedDescription,pinCategory:n.category}}},593078:(e,a,t)=>{t.d(a,{Z:()=>r}),t(167912);var n,i=t(47848);let l=void 0!==n?n:n=t(373462),r=e=>{let a=(0,i.Z)(l,e);return[["60x60",a?.imageSpec_60x60],["136x136",a?.imageSpec_136x136],["170x",a?.imageSpec_170x],["236x",a?.imageSpec_236x],["474x",a?.imageSpec_474x],["564x",a?.imageSpec_564x],["736x",a?.imageSpec_736x],["600x315",a?.imageSpec_600x315],["orig",a?.imageSpec_orig]].reduce((e,[a,t])=>t?{...e,[a]:t.url}:e,{})}},947956:(e,a,t)=>{t.d(a,{Z:()=>n});function n({hasPin:e,hasPinRichMetadata:a,hasPinRichMetadataProducts:t,hasPinRichMetadataArticle:n,hasPinRichMetadataRecipe:i,hasPinStoryPinData:l}){if(e){if(a)return t?144:n?141:i?145:139;if(l)return 157}return 140}},791773:(e,a,t)=>{t.d(a,{Z:()=>n});let n=(0,t(667294).createContext)(null)},288544:(e,a,t)=>{t.d(a,{Z:()=>Z});var n=t(667294),i=t(983272),l=t(630118),r=t(845729),s=t(248750),o=t(353168),d=t(770975),u=t(2171),c=t(201930),p=t(920301),g=t(431771),m=t(142921),h=t(301567);let _=e=>{let a=performance.getEntriesByType("resource").filter(e=>e.name.includes("i.pinimg")).reduce((e,a)=>{let t=a.name.replace(".jpg","").split("/");return{[t[t.length-1]]:{downloadSize:a.name.split("/")[3].split("x")[0]},...e}},{});[...Array.from(document.getElementsByTagName("img")).map(e=>{let t=e.src.replace(".jpg","").split("/"),n=t[t.length-1];if(a[n]){let t=h.rZ(e)?.width||1,i=a[n].downloadSize;return{fileName:n,renderedSize:t,downloadedSize:i,ratio:i/t}}return{fileName:n,renderedSize:1,downloadedSize:1,ratio:1}}),...Array.from(document.querySelectorAll('div[role="img"]')).map(e=>{let t=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),n=t[t.length-1];if(a[n]&&e instanceof HTMLDivElement){let t=h.rZ(e)?.width||1,i=a[n].downloadSize;return{fileName:n,renderedSize:t,downloadedSize:i,ratio:i/t}}return{fileName:n,renderedSize:1,downloadedSize:1,ratio:1}})].forEach(a=>{let{ratio:t,fileName:n,downloadedSize:i}=a;a.ratio>1.05&&(0,s.A9)(`checkImageRatio.${e}`,{count:Math.round(10*t)/10,tags:{fileName:`${i}_${n}`}})})};var y=t(147921),f=t(671481),v=t(730212);let S=(e,a)=>{let t=(0,n.useRef)(a);return{getState:()=>t.current,dispatch:a=>{t.current=e(t.current,a)}}};var w=t(493651),x=t(415787),b=t(785893);let P=["initial_app_load","client_route_push"],k=(0,r.XV)("PwtSurface"),T="NavigationComplete",I="VisuallyComplete",E=(e,a,t,n)=>{let{metricConfig:{metricId:i,pwtStaticContext:l,annotateExperiments:r},annotations:s,binaryAnnotations:o,constraintMap:d,startTime:g,imageTimings:m,isSampled:h,spans:_,traceId:y}=e,f=(0,u.N)({reason:a,annotateExperiments:r,annotations:s,binaryAnnotations:o,constraintMap:d,endTime:t,imageTimings:m,metricId:i,pwtStaticContext:l,startTime:g,traceId:y,spans:_});h&&!n&&(0,p.Z)({metricId:i,pwtStaticContext:l,result:f}),(0,c.D9)()},A=(e,a,t)=>{let{metricConfig:{metricId:n,pwtStaticContext:i,annotateExperiments:r},annotations:d,binaryAnnotations:g,constraintMap:m,startTime:h,imageTimings:y,isSampled:f,spans:v,traceId:S}=e;(0,o.L8)(`PWT_Complete_${(0,l.KJ)(n)}`);let w=(0,u.W)({annotateExperiments:r,annotations:d,binaryAnnotations:g,constraintMap:m,endTime:a,imageTimings:y,metricId:n,pwtStaticContext:i,startTime:h,traceId:S,spans:v});f&&!t&&(0,p.Z)({metricId:n,pwtStaticContext:i,result:w});try{_(String(w.binaryAnnotationMap["metricId.surface"].value))}catch(e){(0,s.H)("image_ratio_check_error",{error:e})}return(0,c.D9)(),{...e,result:w,status:"DONE"}},F=(e,a)=>{if(e.metricConfig.constraints.every(a=>e.constraintMap[a])){let t=Math.max(...e.metricConfig.constraints.map(a=>e.constraintMap[a]));return A(e,t,a)}return k(`Remaining constraints: ${e.metricConfig.constraints.filter(a=>!e.constraintMap[a]).join(", ")}`),e},C=(e,a)=>{let{constraint:t,time:n,disablePWTLogging:i}=a,r=(0,l.KJ)(e.metricConfig.metricId);return f.Z?e.metricConfig.constraints.find(e=>e===t)?e.constraintMap[t]?(k(`constraint "${t}" is already complete.`),(0,s.H)("duplicated_constraint_complete",{constraint:t,action:r}),e):(k(`marking constraint "${t}" as complete`),(0,o.ZP)(`constraint_${t}_is_complete`),F({...e,constraintMap:{...e.constraintMap,[t]:n||f.Z.now()}},i)):(k(`marked constraint "${t}" is not a required constraint.`),e):((0,s.H)("missing_window_performance",{action:r}),e)},R=(e,a)=>{if(!f.Z){let a=(0,l.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:a})}k(`removing constraint "${a}"`);let t=e.metricConfig.constraints.filter(e=>e!==a),{[a]:n,...i}=e.constraintMap;return F({...e,constraintMap:i,metricConfig:{...e.metricConfig,constraints:t}})},O=(e,a)=>{if(!f.Z){let a=(0,l.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:a})}k(`updating pwt segment to "${a}"`);let t={...e.metricConfig.metricId,segment:a};return{...e,metricConfig:{...e.metricConfig,metricId:t}}},L=(e,a)=>{let{metricConfig:t,startTime:n,isSampled:i,disablePWTLogging:r}=a;if(r||"TIMING"!==e.status||n===e.startTime||E(e,"routeUpdatedOnSameSurface",f.Z?.now()||0,r),!t)return{status:"DISABLED",metricConfig:null};let o=(0,l.KJ)(t.metricId);return"TIMING"===e.status&&e.startTime===n&&e.constraintMap[T]?((0,s.H)("duplicated_init_route_action",{action:o}),e):(r||("Other"===t.pwtStaticContext.browserName&&!1===t.metricId.isAuthenticated&&"initial_app_load"===t.metricId.navigationType?((0,s.A9)(`TIMING.${o}`,{tags:{userAgent:window?.navigator?.userAgent}}),(0,s.A9)(`TIMING.sampled.${o}`,{tags:{userAgent:window?.navigator?.userAgent},sampleRate:.03})):((0,s.A9)(`TIMING.${o}`),(0,s.A9)(`TIMING.sampled.${o}`,{sampleRate:.03}))),C({traceId:(0,c.Vd)()||(0,c.ZP)("initial_app_load"===t.metricId.navigationType,t.pwtStaticContext.serverData?.trace_id),status:"TIMING",metricConfig:t,startTime:n,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:i,spans:[]},{constraint:T,disablePWTLogging:r}))},j=(e,a)=>{if(k("dispatch action",a),"INIT_ROUTE"===a.type)return L(e,a.payload);if("TIMING"!==e.status)return k(`ignoring action due to invalid state ${e.status}`,a),e;switch(a.type){case"ABORT":E(e,a.reason,f.Z?.now()||0);let t={type:"ABORT",reason:a.reason};return{...e,status:"DONE",result:t};case"ANNOTATE":let{name:n}=a.payload;if(!f.Z)return e;let i=f.Z.now();return k(`adding annotation {${n}: ${i}}`),{...e,annotations:{...e.annotations,[n]:i}};case"BINARY_ANNOTATE":let{name:r,value:o,annotationType:d}=a.payload;return k(`adding binary annotation {${r}: ${o}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[r]:{value:o,type:d}}};case"MARK_CONSTRAINT_COMPLETE":return C(e,a.payload);case"REMOVE_CONSTRAINT":return R(e,a.payload);case"SET_SEGMENT":return O(e,a.payload);case"SET_VISUALLY_COMPLETE_RESULT":{let{payload:{imageTimings:t}}=a;if(0===t.length)return E(e,"visuallyComplete_noImages",f.Z?.now()||0),{...e,status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}};let n=Math.max(...t.map(e=>e.responseEnd||0));return C({...e,imageTimings:t},{constraint:I,time:n})}case"ADD_SUBSPAN":let{startTime:u}=e,{payload:{name:c,startTime:p,endTime:g,annotations:m,binaryAnnotations:h,parentId:_}}=a;return{...e,spans:[...e.spans,{name:c,id:(0,y.Z)(),startTime:p||u,endTime:g,annotationMap:{...m},binaryAnnotationMap:{...h},parentId:_}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:a.payload.name,id:(0,y.Z)(),startTime:f.Z?f.Z.now():0,endTime:1/0,annotationMap:{...a.payload.annotations},binaryAnnotationMap:{...a.payload.binaryAnnotations},parentId:a.payload.parentId}]};case"STOP_SUBSPAN":let v=e.spans.findIndex(e=>e.name===a.payload.name);return v>-1?(e.spans[v].endTime=f.Z?f.Z.now():0,a.payload.annotations&&(e.spans[v].annotationMap={...e.spans[v].annotationMap,...a.payload.annotations}),a.payload.binaryAnnotations&&(e.spans[v].binaryAnnotationMap={...e.spans[v].binaryAnnotationMap,...a.payload.binaryAnnotations})):(0,s.H)("invalid_subspan_stop_name",{name:a.payload.name}),e;default:let S=(0,l.KJ)(e.metricConfig.metricId);return(0,s.H)("invalid_pwt_surface_action",{action:S}),e}},D=e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}},N=new Set,M=({surface:e,constraints:a,segment:t,measureGridVisuallyComplete:l,annotateExperiments:r,customEnabledNavigationTypes:s,navigationInfo:{clientNavigation:o,navigationType:d},sampleRate:u})=>{let c=(0,n.useRef)("NOT_SET"),p=(0,m.Z)(),{getState:g,dispatch:h}=S(j,{status:"DISABLED",metricConfig:null}),_=(0,v.B)();if(c.current!==o&&(c.current=o,p)){let{isAuthenticated:n}=p,i=e&&d&&(s||P).includes(d)?{metricId:{type:"surface",surface:e,navigationType:d,isAuthenticated:n,segment:t},annotateExperiments:r,constraints:[T,...a||[],...l?[I]:[]],pwtStaticContext:p}:null;(0,x.nP)("webapp.pwt_surface.init_route",{tags:{surface:e,navigationType:d,isAuthenticated:n}});let c=!N.has(o);h({type:"INIT_ROUTE",payload:{metricConfig:i,startTime:o?o.time:0,isSampled:!u||Math.random()<u,disablePWTLogging:!c}}),c&&N.add(o)}let y=g();if((0,n.useEffect)(()=>()=>{N.delete(o)},[o]),(0,n.useEffect)(()=>{let e=e=>{h({type:"ABORT",reason:e})};i.Z.onSessionPause(e);let a=window.innerHeight,t=window.innerWidth,n=()=>{let e=Math.abs(window.innerHeight-a),i=Math.abs(window.innerWidth-t),l=window.innerHeight!==a,r=window.innerWidth!==t,s={handler:(0,w.H)(),deviceType:p?.deviceType??"unknown",isAuthenticated:p?.isAuthenticated??"unknown",platform:_.userAgent.platform??"unknown"};if((0,x.nP)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...s,heightChanged:l,widthChanged:r}}),l&&(0,x.S0)("webapp.PwtLogger.resizeHeightDelta",e,{sampleRate:1,tags:s}),r&&(0,x.S0)("webapp.PwtLogger.resizeWidthDelta",i,{sampleRate:1,tags:s}),window.removeEventListener("resize",n),p?.deviceType==="phone"&&(!r&&l&&e<=150||!l&&!r)||p?.deviceType==="desktop"&&!l&&!r){(0,x.nP)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:{...s,heightChanged:l,widthChanged:r}});return}h({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",n),()=>{let a=g();k("handling unmount",a),"TIMING"===a.status&&E(a,"unmount",f.Z?.now()||0),i.Z.removePauseListener(e),window.removeEventListener("resize",n)}},[]),"TIMING"!==y.status||!y.constraintMap[T])return{state:y,context:null};let{startTime:b,metricConfig:A}=y;return{state:y,context:{abort:e=>h({type:"ABORT",reason:e}),addAnnotation:e=>h({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,a,t)=>h({type:"BINARY_ANNOTATE",payload:{name:e,value:a,annotationType:t}}),addSubspan:(e,a,t,n={},i={},l=null)=>h({type:"ADD_SUBSPAN",payload:{name:e,startTime:a,endTime:t,annotations:n,binaryAnnotations:i,parentId:l}}),getId:()=>b,getMetricId:()=>A.metricId,markConstraintComplete:e=>h({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:f.Z?f.Z.now():0}}),removeConstraint:e=>h({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>h({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:A.constraints.includes(I)?e=>h({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,a={},t={},n=null)=>h({type:"START_SUBSPAN",payload:{name:e,annotations:a,binaryAnnotations:t,parentId:n}}),stopSubspan:(e,a={},t={},n=null)=>h({type:"STOP_SUBSPAN",payload:{name:e,annotations:a,binaryAnnotations:t,parentId:n}})}}},K=()=>{let e=(0,d.E)(),a=!!e;(0,n.useEffect)(()=>{if(a){let a=e?.getMetricId(),t=a?(0,l.KJ)(a):null;(0,s.H)("nested_pwt_surface",{action:t})}},[a])};function Z({children:e,...a}){let t=(0,g.Z)(),n=D(t),i=a.measureGridVisuallyComplete?["web_masonry_v2_auth","web_masonry_v2_unauth","web_fluid_grid_desktop_auth","web_fluid_grid_desktop_unauth"]:[],l=[...a.annotateExperiments??[],...i],{context:r}=M({...a,annotateExperiments:l,navigationInfo:{navigationType:n,clientNavigation:t}});return K(),(0,b.jsx)(d.S,{value:r,children:e})}},829413:(e,a,t)=>{t.d(a,{Z:()=>o});var n=t(886132),i=t(667294),l=t(353168),r=t(770975),s=t(142921);function o({children:e,isAtEndOfFeed:a,pinData:t,itemCount:o,includeBackgroundImages:d=!1,includeVideos:u=!1,includeSections:c=!1,isPlaceholderGrid:p}){return s.Z()?.isAuthenticated||(c=!0),(0,n.Z)({pinData:t,isAtEndOfFeed:a,includeBackgroundImages:d,includeVideos:u,includeSections:c,isPlaceholderGrid:p}),!function(e){let a=(0,r.E)(),t=(0,i.useRef)(null);(0,i.useEffect)(()=>{e!==t.current&&(t.current=e,a&&(0,l.ZP)(l.at))},[!!a,e])}(o),e}},886132:(e,a,t)=>{t.d(a,{Z:()=>f,v:()=>g});var n=t(667294),i=t(630118),l=t(845729),r=t(301567),s=t(248750),o=t(353168),d=t(770975),u=t(202953),c=t(438973);let p=(0,l.XV)("GridProfiler"),g=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,r.VZ)(),m=e=>"LAYOUT"===e.status&&500||"TIMING"===e.status&&100||null,h=(e,a)=>{if(!a){let a=(0,r.LM)();if(a===e)return p("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,r.F9)())return p("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:a}}return{complete:!0}},_=(e,a)=>{let t=0,n=0,i=0,l=0,r=0;return e=e.filter(e=>"pin"===e.type),a.forEach((a,s)=>{let o;let d=a.fileName.split(".")[0];o=e[s],d!==o?.image_signature&&(o=e.find(e=>d===e?.image_signature)),void 0===o?r+=1:o.is_promoted||o.recommendation_reason?.reason==="PROMOTED_PIN"||o?.promoter?.length?i+=1:null!==o.story_pin_data_id&&void 0!==o.story_pin_data_id?t+=1:o?.videos?.video_list?n+=1:l+=1}),{storyPinCount:t,videoCount:n,adCount:i,imageCount:l,unknownCount:r}},y=(e,a)=>{let t=()=>{window.removeEventListener(e,t),a()};return window.addEventListener(e,t),()=>window.removeEventListener(e,t)};function f({isAtEndOfFeed:e,pinData:a,includeBackgroundImages:t,includeVideos:g=!1,includeSections:f,isPlaceholderGrid:v}){let S=(0,d.E)(),w=S?.getId(),x=S?.setVisuallyCompleteResult,[b,P]=(0,n.useState)({status:"DISABLED"});(0,n.useEffect)(()=>{x?P({status:"LAYOUT",failedCount:0,numOfItemsChecked:0}):P({status:"DISABLED"})},[w,x]),(0,n.useEffect)(()=>{if("DISABLED"!==b.status&&(0,o.ZP)(`GridVisuallyCompleteProfiler_${b.status}`),p("new status",b),"LAYOUT"===b.status){let e=y("scroll",()=>{(0,o.ZP)("scrollDuringLayout")});return()=>{e()}}return()=>{}},[b.status]),(0,c.Z)(()=>{if(!S||!x)return;let{abort:n,getMetricId:o}=S,d=o(),c=(0,r.cQ)(t,g,f);if(v&&!c.length){p("bypassing PWT run due to skeleton pin grid");return}switch(b.status){case"LAYOUT":{let a=h(b.numOfItemsChecked,e);a.complete?P({status:"TIMING",failedCount:0,pinElements:c}):500*b.failedCount>6e4?((0,s.A9)(`images.${(0,i.KJ)(d)}.visuallyComplete.maxLayoutAttempt`),n("visuallyComplete_layoutTimeout"),P({status:"DISABLED"})):P({...b,failedCount:b.failedCount+1,numOfItemsChecked:a.numOfItemsChecked});break}case"TIMING":{let e=(0,u.Cg)(),t=b.pinElements.length,r=[],o=0,c=0,g=0;if(b.pinElements.forEach(({element:a,fileName:t})=>{let n=e.find(e=>e.name.endsWith(t));n?n.responseEnd?(r.push(n),(0,l.v5)(a,"green")):(g+=1,(0,l.v5)(a,"blue")):a instanceof HTMLImageElement&&a.complete?(c+=1,(0,l.v5)(a,"red")):(o+=1,(0,l.v5)(a,"greenyellow"))}),o||g)100*b.failedCount>6e4?((0,s.A9)(`images.${(0,i.KJ)(d)}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:t,incompleteCount:o,noTimingCount:c,noTimingResponseEndCount:g}}),n("visuallyComplete_timingTimeout"),P({status:"DISABLED"})):P({...b,failedCount:b.failedCount+1});else{if(p(`All ${r.length} images are fetched`),a&&a.length){let e=_(a,b.pinElements);Object.entries(e).forEach(([e,a])=>{S.addBinaryAnnotation(e,a,"I16")}),(0,s.A9)(`${(0,i.KJ)(d)}.pinTypes`,{tags:e})}x({imageTimings:r}),P({status:"DISABLED"}),(0,s.A9)(`images.${(0,i.KJ)(d)}.visuallyComplete.complete`,{tags:{totalImageCount:t,noTimingCount:c}})}}}},m(b))}},431771:(e,a,t)=>{t.d(a,{Z:()=>l});var n=t(667294),i=t(791773);function l(){return(0,n.useContext)(i.Z)}},302749:(e,a,t)=>{t.d(a,{A:()=>r,Z:()=>s});var n=t(667294),i=t(883119),l=t(785893);let r=({fill:e})=>{let a="half"===e?(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(i.xu,{position:"absolute",children:(0,l.jsx)(i.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:15})}),(0,l.jsx)(i.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:15})]}):(0,l.jsx)(i.JO,{accessibilityLabel:"",color:"full"===e?"default":"subtle",icon:"star",size:15});return(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},"data-test-id":`rating-star-${e}`,display:"inlineBlock",children:a})};function s({max_rating:e,rating:a,display:t}){var n;let s=[],o=parseFloat(e)||5,d=5*(n=(n=parseFloat(a)||0)<=o?n:o)/o;if(Number.isNaN(d))return null;let u=Math.floor(d),c=d-u;return[...Array(u).keys()].forEach(e=>s.push((0,l.jsx)(r,{fill:"full"},e))),c>=.75?s.push((0,l.jsx)(r,{fill:"full"},s.length)):c>=.25&&s.push((0,l.jsx)(r,{fill:"half"},s.length)),[...Array(5-s.length).keys()].forEach(()=>s.push((0,l.jsx)(r,{fill:"empty"},s.length))),(0,l.jsx)(i.xu,{display:t?"flex":"inlineBlock",position:"relative",width:18*o,children:s})}},957486:(e,a,t)=>{t.d(a,{Z:()=>s});var n=t(667294),i=t(545007),l=t(809833),r=t(604759);function s(e){let{name:a,optionsKey:t}=e,s=a===l.fY,o=(0,r.bC)(),d=o?.get(a,t);if(d)throw d;let u=e=>e[a]?.[t],c=(0,i.v9)(({resources:e})=>u(e)?.nextBookmark),p=(0,i.v9)(({resources:e})=>u(e)?.data),g=(0,i.v9)(({resources:e})=>u(e)?.auxData),m=(0,i.v9)(({resources:e})=>u(e)?.error),h=(0,n.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(s)return h.current;let _={auxData:g,data:p,error:m,isAtEnd:c===l.qx,nextBookmark:c};return(_.auxData!==h.current.auxData||_.data!==h.current.data||_.error!==h.current.error||_.isAtEnd!==h.current.isAtEnd||_.nextBookmark!==h.current.nextBookmark)&&(h.current=_),h.current}},931397:(e,a,t)=>{t.d(a,{Z:()=>l});var n=t(809833),i=t(174044);function l(e){let{enabledRouteRefresh:a,headers:t,name:l,noCache:r,options:s,schema:o}=e??{name:n.fY,options:null},d=!e,{fetchResource:u,ref:c}=(0,i.Z)({enabledRouteRefresh:a,headers:t,name:l,noCache:r,options:s,schema:o},d,!1);return d||u(),c}},873095:(e,a,t)=>{t.d(a,{l:()=>l,r:()=>r});var n=t(667294);let i=(0,n.createContext)(null),l=()=>(0,n.useContext)(i),r=i.Provider},728593:(e,a,t)=>{t.d(a,{Z:()=>l});var n=t(830997),i=t(873095);let l=()=>{let e=(0,n.g)(),a=(0,i.l)();return t=>{let{mobileOptions:n,desktopOptions:i,reason:l,attributionLabel:r,pinId:s}=t;e?e.showDesktopSignupModal({signupFlow:i?.modalType==="login"?{type:"login"}:{type:"signup"},reason:l,attributionLabel:r,...i?.modalOptions}):a&&a.showMobileSignupModal({reason:l,attributionLabel:r,headingType:n?.headingType??"none",pinId:s})}}},715824:(e,a,t)=>{t.d(a,{ZP:()=>i,mP:()=>n});let n="…";function i(e,a=80,t=n,l=!1){let r;if(!e)return"";if(e.length<=a)return e;if(" "!==e[a-1]&&" "===e[a]||l)r=e.substring(0,a);else{let t=e.lastIndexOf(" ",a);r=e.substring(0,t)}return(r=r.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+t}},509781:(e,a,t)=>{t.d(a,{Z:()=>S});var n=t(667294),i=t(883119),l=t(700198),r=t(136061),s=t(766546),o=t(297728),d=t(730212),u=t(655201),c=t(616949);let{Provider:p,useMaybeHook:g}=(0,t(498490).Z)("timeSpentContext");var m=t(603667),h=t(66560),_=t(785893);function y(e,a,t){var n;return(a="symbol"==typeof(n=function(e,a){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,a||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?n:String(n))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}class f extends n.Component{constructor(e){super(e),y(this,"componentWillUnmount",()=>{this.unregisterComponent()}),y(this,"getContext",()=>{let{clientTrackingParams:e,component:a,element:t,objectId:n,timeSpentContext:i,view:l,viewParameter:r}=this.props;return{view:l||i?.view,viewParameter:r||i?.viewParameter,component:a||i?.component,element:t,objectId:n||i?.objectId,clientTrackingParams:e||i?.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),y(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),y(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:a=!1}=this.props;if(a&&e&&e.getGrandparentUuid){let a=e.getGrandparentUuid();if(a)return a}return e&&e.getParentUuid?e.getParentUuid():void 0}),y(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),y(this,"getTimedPair",()=>this.state.timedPair),y(this,"setTimedPair",(e,a)=>{this.setState({timedPair:e},()=>{a&&a()})}),y(this,"isRegistered",!1),y(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),y(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),y(this,"handleVisibilityChange",e=>{let{intersectionRatio:a}=e[0],{bottom:t,left:n,right:i,top:l}=e[0].intersectionRect;a>0?this.registerComponent():0===a&&(0===t&&0===n&&0===i&&0===l?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new c.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,u.Z)(e.auxData,this.props.auxData)&&(0,u.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e,intersectionObserverExpEnabled:a,intersectionObserverBoxHeight:t}=this.props;return a?(0,_.jsx)(p,{value:this.getContext(),children:(0,_.jsx)(s.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:a=>(0,_.jsx)(i.xu,{ref:a,height:t??"100%",children:n.Children.only(e)})})}):(0,_.jsx)(p,{value:this.getContext(),children:(0,_.jsx)(l.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:n.Children.only(e)})})}}function v(e){let a;let t=(0,r.Hv)(),i=g(),l=(0,m.Z)(),s=(0,h.H0)(),{requestIdentifier:u="",isAuthenticated:c}=(0,d.B)(),p={app_instance_id:u.slice(0,8),...e.auxData??{}},{checkExperiment:y}=(0,o.F)();if(c)switch(e.view){case 42:a=y("web_intersection_observer_migration_timespent_inbox_auth").anyEnabled;break;case 675:a=y("web_intersection_observer_migration_timespent_closeup_media_viewer_auth").anyEnabled;break;default:a=y("web_intersection_observer_migration_timespent_auth").anyEnabled}else a=y("web_intersection_observer_migration_timespent_unauth").anyEnabled;return(0,n.useEffect)(()=>{l?.setHistoryStackContext(t)},[t,l]),(0,n.useEffect)(()=>{l?.setPins(s??{})},[s,l]),l?(0,_.jsx)(f,{...e,auxData:p,intersectionObserverExpEnabled:a,timeSpentContext:i,timeSpentManager:l,children:e.children}):e.children}v.displayName="TimeSpent";let S=v},616949:(e,a,t)=>{t.d(a,{Z:()=>s,h:()=>r});var n=t(172045),i=t(17314);function l(e,a,t){var n;return(a="symbol"==typeof(n=function(e,a){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,a||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?n:String(n))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}let r="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now(),s=class{constructor(e){l(this,"start",()=>(this.startTime=r(),this.startTime)),l(this,"end",()=>(this.endTime=r(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,n.Z)()}catch(e){this.uuid=(0,i.Z)()}e&&Object.assign(this,e)}}},154785:(e,a,t)=>{t.d(a,{Z:()=>d});var n=t(667294),i=t(616550),l=t(282999),r=t(812477),s=t(1006);let o=e=>(0,l.L6)(e)?"pin":(0,l.am)(e)?"board":(0,l.Xn)(e)?"login":(0,l.C$)(e)?"home":(0,r.Z)(e)?"profile":(0,l.dr)(e)?"ideas":(0,l.gT)(e)?"ideas-root":(0,l.tZ)(e)?"videos":(0,l.Q0)(e)?"videos-category":(0,l.$Y)(e)?"article":(0,l.E0)(e)?"shopping-spotlight":(0,l.Zz)(e)?"today":(0,l.j8)(e)?"unauth-profile":(0,l.f1)(e)?"shopping-root":(0,l.OX)(e)?"shopping-category":"other";function d(){let e=(0,i.TH)();return(0,n.useCallback)(({action:a,item:t,within:n})=>{let i=o(e);(0,s.My)(`logged_out_product.interaction.${i}.${a}`,{item:t||"none",within:n||"none"})},[e])}},564573:(e,a,t)=>{t.d(a,{Z:()=>n});let n=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},414416:(e,a,t)=>{t.d(a,{Z:()=>n});function n(e){if((e||"").includes("--")){let a=e.split("--"),t=a.pop();return{text:a.join("--"),pinId:t}}return{text:"",pinId:e}}},438973:(e,a,t)=>{t.d(a,{Z:()=>i});var n=t(667294);let i=(e,a)=>{let t=(0,n.useRef)(()=>{});(0,n.useEffect)(()=>{t.current=e},[e]),(0,n.useEffect)(()=>{if(null===a)return()=>{};let e=setInterval(()=>t.current(),a);return()=>clearInterval(e)},[a])}},346645:(e,a,t)=>{t.d(a,{Z:()=>s});var n=t(667294);let i=()=>()=>{},l=()=>!1,r=()=>!0,s=()=>(0,n.useSyncExternalStore)(i,l,r)},644797:(e,a,t)=>{t.d(a,{W:()=>u,r:()=>d});var n=t(667294),i=t(573706),l=t(498490),r=t(297728),s=t(785893);let{Provider:o,useHook:d}=(0,l.Z)("VideoPlayer");function u({children:e}){let{logContextEvent:a,logImpression:t}=(0,i.v)(),{checkExperiment:l}=(0,r.F)(),[d,u]=(0,n.useState)(!1),[c,p]=(0,n.useState)([]),[g,m]=(0,n.useState)([]),[h,_]=(0,n.useState)({}),y=l("web_ads_mrc_video_impression").anyEnabled,f=e=>{_(a=>({...a,[e]:!0}))},v=(0,n.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:a}=e.event_data.pinImpressions[0],t=(e.aux_data?.commerce_data||"").includes("story_pin_id");y&&(a||t)&&p(a=>[...a,e].slice(-1e3))}},[y]),S=(0,n.useCallback)(e=>{18===e.eventType&&y&&m(a=>[...a,e].slice(-1e3))},[y]),w=e=>{let{time:a}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:a,renderDuration:0}]}}},x=e=>{if(e.eventData){let{time:a}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:a??0}}}return null};(0,n.useEffect)(()=>{let e=c.filter(e=>{let{pinIdStr:t}=e.event_data.pinImpressions[0];return!h[t]||!y||(a(w(e)),!1)});e.length!==c.length&&p(e)},[c,y,a,h]),(0,n.useEffect)(()=>{let e=g.filter(e=>{let a=e.eventData?.pinIdStr;if(!a)return!1;if(h[a]&&y){let a=x(e);return a&&t(a),!1}return!0});e.length!==g.length&&m(e)},[g,y,t,h]);let b=(0,n.useMemo)(()=>({captionsEnabled:d,logMrcVideoAdImpressionOnPlay:S,logMrcVideoAdEventOnPlay:v,setCaptionsEnabled:u,setVideoPlayed:f,videosPlayed:h}),[d,v,S,h]);return(0,s.jsx)(o,{value:b,children:e})}},689121:(e,a,t)=>{t.d(a,{Z:()=>n});function n(e,a){let t=0,n=!1,i=-1;return e.forEach((e,l)=>{let{x:r=0,y:s=0,h:o=0,w:d=0}=e,u=function(e,a){let{x:t,y:n,w:i,h:l}=e,{x:r,y:s,w:o,h:d}=a,u=Math.max(t,r),c=Math.min(t+i,r+o),p=Math.max(n,s),g=Math.min(n+l,s+d),m=u<c&&p<g?(c-u)*(g-p):0;return m/(i*l+o*d-m)}(a,{x:r,y:s,h:o,w:d});u>=.9&&u>t&&(t=u,n=!0,i=l)}),{isCropAreaOnDotArea:n,dotIndexToHide:i}}},811036:(e,a,t)=>{t.d(a,{Z:()=>n});function n(e){let a;switch(e){case 1:a=1;break;case 2:a=2;break;case 3:a=3;break;case 4:a=4;break;case 5:a=5;break;case 6:a=6;break;case 9:a=9}return a}},12886:(e,a,t)=>{t.d(a,{Z:()=>n});function n({cropSource:e,surfaceType:a,isProductPage:t,queryEntrypoint:n}){return n||("stl"===a&&4===e?"shop_the_look_module":t?"feed_module":null)}},302669:(e,a,t)=>{t.d(a,{Z:()=>n});function n(e){return{h:e?.h??void 0,is_stela:e?.isStela??void 0,labelId:e?.labelId??void 0,label_x:e?.labelX??void 0,label_y:e?.labelY??void 0,label:e?.label??void 0,max_annotation_num_documents:e?.maxAnnotationNumDocuments??void 0,score:e?.score??void 0,show_on_closeup:e?.showOnCloseup??void 0,title:e?.title??void 0,w:e?.w??void 0,x:e?.x??void 0,y:e?.y??void 0}}},668564:(e,a,t)=>{t.d(a,{X:()=>i,Z:()=>l});var n=t(667294);let i=120;function l(e,a=0,t=i){let[r,s]=(0,n.useState)(e?"active":"inactive");return(0,n.useEffect)(()=>{if(e){if(a){let e=setTimeout(()=>s("active"),a);return()=>{clearTimeout(e)}}s("active")}else{let e=setTimeout(()=>s("inactive"),t);return()=>{clearTimeout(e)}}},[e]),r}},557443:(e,a,t)=>{t.d(a,{$:()=>i,B:()=>n});let{Provider:n,useHook:i}=(0,t(498490).Z)("SurfaceContext",{surface:"Unknown"})},596530:(e,a,t)=>{t.d(a,{Z:()=>r});var n=t(883119),i=t(668564),l=t(785893);function r({children:e,fadeInDuration:a=0,fadeOutDuration:t=i.X,visibility:r}){return"none"!==r&&e?(0,l.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{hidden:{opacity:0,transition:t?`opacity ${t}ms ease`:void 0},visible:{opacity:1,transition:a?`opacity ${a}ms ease`:void 0}}[r]},children:e}):null}},533191:(e,a,t)=>{t.d(a,{Z:()=>P}),t(167912);var n,i=t(883119),l=t(488792),r=t(47848),s=t(144326),o=t(297728),d=t(728593),u=t(1006),c=t(154785),p=t(901450),g=t(410150),m=t(969119),h=t(383399),_=t(578406),y=t(934648),f=t(424583),v=t(310368),S=t(55463),w=t(785893);let x=({children:e,pulsar:a,testId:t})=>a.show?(0,w.jsx)(i.xu,{"data-test-id":t,position:"relative",children:(0,w.jsxs)(i.iP,{onTap:a.onClick,tapStyle:"none",children:[(0,w.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:e}),(0,w.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,w.jsx)(i.o3,{})})]})}):(0,w.jsx)(i.xu,{"data-test-id":t,children:e}),b=void 0!==n?n:n=t(646920);function P({auxData:e,disabled:a,disableLog:t,followEventType:n,id:P,inline:k,invertColors:T,isFollowed:I,isIdeaPin:E,isLegoEnabled:A,isSecondaryButton:F,isUserFollowButton:C,isUserMe:R,onFollow:O,onUnfollow:L,pinKey:j,shouldUseLegoColors:D,showPulsar:N,size:M,textType:K="FollowFollowing",unfollowEventType:Z,viewParameter:U,viewType:z,clientTrackingParams:G}){let B;let H=(0,s.ZP)(),V=(0,g.HG)(),{showToast:W}=(0,p.F9)(),Y=(0,c.Z)(),$=(0,l.Z)(),Q=(0,d.Z)(),{checkExperiment:q}=(0,o.F)(),J=(0,y.Z)(),X=(0,h.Z)(),ee=X&&X.isAuth,{unauthFollowUserId:ea,setUnauthFollowUserId:et}=(0,S.f)(),en=(0,f.mN)()(P),ei=en&&{imageMediumUrl:en.image_medium_url,username:en.username},el=(0,r.Z)(b,j),er=el?.linkDomain,es=el?.nativeCreator,eo=el?.originPinner,ed=el?.pinner;B=es||(er?er.officialUser:eo||ed);let eu=ei??B;(0,m.Z)(()=>{!V&&ee&&ea&&P&&ea===P&&O(P)});let ec=J({fn:()=>{ee?I?(L(P),t||$({event_type:Z,view_type:z,view_parameter:U,object_id_str:P,aux_data:e,clientTrackingParams:G})):(O(P),C&&W(({hideToast:e})=>{let a=eu?.username?`/${eu.username}/`:"";return(0,w.jsx)(v.Z,{handleHide:e,href:a,imageUrl:eu?.imageMediumUrl||"",text:(0,w.jsx)(i.xv,{lineClamp:4,children:H._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:P})}),t||$({event_type:n,view_type:z,view_parameter:U,object_id_str:P,aux_data:e,clientTrackingParams:G})):((0,u.NC)(I?"press_profile_unfollow":"press_profile_follow"),Y({action:"click",item:I?"unfollow-button":"follow-button"}),Q({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:E?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:V&&q("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!V&&q("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),V||et(P??""),(0,u.NC)("clickthrough"))},modalHeader:(0,_.N4)({i18n:H,toFollow:!I})}),ep=!I&&!!N,eg=()=>{if(R)return H._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===K)return I?H._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):H._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');let e="FollowUnfollow"===K?H._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):H._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return I?e:H._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,w.jsx)(x,{pulsar:ep?{show:!0,onClick:ec}:{show:!1},testId:R||I?"board-unfollow-button":"board-follow-button",children:(0,w.jsx)(i.zx,{accessibilityLabel:eg(),color:D||"AddRemove"===K||!A&&F||T?"gray":"red",disabled:R||a,fullWidth:k,onClick:ep?void 0:({event:a})=>{a.preventDefault(),a.stopPropagation(),t||$({event_type:101,component:13672,element:11951,object_id_str:P,view_type:z,view_parameter:U,aux_data:e,clientTrackingParams:G}),ec()},selected:I||!1,size:M,text:eg()})})}},343931:(e,a,t)=>{t.d(a,{Z:()=>r});var n=t(883119),i=t(144326),l=t(785893);let r=({isInModal:e})=>{let a=(0,i.ZP)();return(0,l.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new n.Ry(1),children:(0,l.jsx)(n.$j,{accessibilityLabel:a._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},87416:(e,a,t)=>{t.d(a,{Cy:()=>d,HE:()=>u,Mv:()=>l,PR:()=>m,Y4:()=>c,dL:()=>i,fS:()=>p,fv:()=>s,lu:()=>g,qS:()=>o,uc:()=>r});var n=t(788388);let i=e=>{let a=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,duploShouldTrackPinEvents:e.duploShouldTrackPinEvents,loggingId:e.loggingId,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Pin",isPaused:e.isPaused,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},l=e=>{let a=(0,n.Z)({impressionAuxFields:{newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},contextLogData:e.auxData||{},impressionType:"Notification",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:a})},r=e=>{let a=(0,n.Z)({impressionAuxFields:{newsType:e.newsType},contextLogData:e.auxData||{},impressionType:"NotificationFeed",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:a})},s=e=>{let a=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},contextLogData:e.auxData||{},componentType:e.component,isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,impressionType:"Article"});return e.children({impressionTrackerRef:a})},o=e=>{let a=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Story",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},d=e=>{let a=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"User",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},u=e=>{let a=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Interest",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},c=e=>{let a=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"TodayArticle",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},p=e=>{let a=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Board",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:a})},g=e=>{let a=(0,n.Z)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:e.slotIndex??0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:a})},m=e=>{let a=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"CuratedBoard",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})}},410287:(e,a,t)=>{t.d(a,{Z:()=>l});var n=t(883119),i=t(785893);function l({children:e,onMouseEnter:a,onMouseLeave:t,onTouch:l,rounding:r,fullWidth:s=!1,pressState:o="none",accessibilityLabel:d,role:u,dataTestId:c}){let p=(Array.isArray(o)?o:[o]).includes("compress");return(0,i.jsx)(n.iP,{accessibilityLabel:d,dataTestId:c,fullWidth:s,onMouseEnter:a&&(({event:e})=>a(e)),onMouseLeave:t&&(({event:e})=>t(e)),onTap:l&&(({event:e})=>l(e)),role:u,rounding:r,tapStyle:p?"compress":"none",children:e})}},96405:(e,a,t)=>{t.d(a,{Z:()=>l});var n=t(883119),i=t(785893);function l({children:e,additionalStyles:a={}}){return(0,i.jsx)(n.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...a}},"data-test-id":"contentLayer",left:!0,position:"absolute",right:!0,top:!0,children:e})}},462888:(e,a,t)=>{t.d(a,{ET:()=>s,UQ:()=>o,dv:()=>d,xZ:()=>c,yh:()=>p});var n,i=t(667294),l=t(498490),r=t(785893);let s={NONE:"NONE",GROUP:"GROUP",SECRET:"SECRET",ARCHIVED:"ARCHIVED"},o={NONE:0,ARCHIVED:1,GROUP:2,SECRET:3},d=((n={}).COLORS="COLORS",n.CREATED_BY_ME="CREATED_BY_ME",n.FAVORITED="FAVORITED",n.FAVORITED_AND_CREATED="FAVORITED_AND_CREATED_BY_ME",n.INTERESTS="INTERESTS",n.NONE="",n),{Provider:u,useMaybeHook:c}=(0,l.Z)("ProfileViewContext");function p({children:e}){let[a,t]=(0,i.useState)(),[n,l]=(0,i.useState)(new Map),[s,o]=(0,i.useState)(),[c,p]=(0,i.useState)(),[g,m]=(0,i.useState)(d.NONE),[h,_]=(0,i.useState)(0),[y,f]=(0,i.useState)(),v=(0,i.useCallback)((e,a)=>{l(new Map(n.set(e,a)))},[n]),S=(0,i.useMemo)(()=>({boardPinDensity:a,boardSortOrder:n,profileBoardView:s,profilePinDensity:c,profileFollowingSelectedIndex:h,selfProfilePinFilter:g,setBoardPinDensity:t,setSelfProfilePinFilter:m,updateBoardSortOrder:v,selfProfileBoardFilter:y,setSelfProfileBoardFilter:f,setProfileBoardView:o,setProfilePinDensity:p,setProfileFollowingSelectedIndex:_}),[a,n,s,c,h,g,y,v]);return(0,r.jsx)(u,{value:S,children:e})}},845873:(e,a,t)=>{t.d(a,{bn:()=>s,fJ:()=>d,gC:()=>o});var n=t(545007),i=t(498490),l=t(785893);let{Provider:r,useHook:s}=(0,i.Z)("Boards");function o(){let e=s();return a=>e[a]}function d({children:e}){let a=(0,n.v9)(({boards:e})=>e,n.wU);return(0,l.jsx)(r,{value:a,children:e})}},424583:(e,a,t)=>{t.d(a,{Tt:()=>c,cm:()=>u,kW:()=>o,kY:()=>p,mN:()=>d});var n=t(545007),i=t(498490),l=t(383399),r=t(785893);let{Provider:s,useHook:o}=(0,i.Z)("Users");function d(){let e=o();return a=>e[a]}function u(){let e=o();return(a,t=!1)=>{let n=Object.keys(e).find(t=>e[t].username===a);if(n||!t)return e[n??""]}}function c(){let{id:e}=(0,l.Z)();return o()[e??""]}function p({children:e}){let a=(0,n.v9)(({users:e})=>e,n.wU);return(0,r.jsx)(s,{value:a,children:e})}},124747:(e,a,t)=>{t.d(a,{G:()=>_,Z:()=>y});var n=t(667294),i=t(883119),l=t(776919),r=t(587435),s=t(679482),o=t(829413),d=t(892205),u=t(410150),c=t(969119),p=t(798920),g=t(995060),m=t(507830),h=t(785893);let _=25;function y({customLayoutType:e,getColumnSpanConfig:a,emptyState:t,feedItems:_,feedKey:y,maxColumns:f,minColumns:v,pagination:{hasNext:S,isLoadingNext:w,loadNext:x,refetch:b},pullToRefresh:P,renderFeedItem:k,serverRender:T}){let I=(0,u.HG)(),{experimentalColumnWidth:E,experimentalGutter:A}=(0,r.Z)(),[F,C]=(0,n.useState)(!1),R="userSearch"===e?window.innerWidth-16:200,O=w&&0===_.length&&!F,L="desktopFlashlight"===e?0:s.qG,j=v??2;return"userSearch"===e&&(j=1),(0,c.Z)(()=>(window.addEventListener("online",x),()=>window.removeEventListener("online",x))),(0,h.jsxs)(i.xu,{"data-test-id":"MobileFeed",children:[(0,h.jsx)(g.Z,{enabled:!!P,onPull:()=>{b(),C(!0)},refreshing:F}),(0,h.jsxs)(i.xu,{"data-test-id":"grid",marginEnd:L,marginStart:L,opacity:F?.5:1,children:[(0,h.jsx)(o.Z,{isAtEndOfFeed:!S,itemCount:_.length,children:_.length?(0,h.jsx)(i.xu,{"data-test-id":"feed",marginTop:(0,p.kk)({isDesktop:I}),children:(0,h.jsx)(d.Z.Consumer,{children:e=>(0,h.jsx)(n.Fragment,{children:(0,h.jsx)(p.c$,{children:(0,h.jsx)(l.default,{_getColumnSpanConfig:a,cacheKey:y,columnWidth:I?E??s.yF:R,gutterWidth:I?A??4*s.jC:void 0,id:T?y:void 0,items:_,loadItems:x,maxColumns:f,minCols:j,optOutFluidGridExperiment:null!=f,renderItem:({data:e,itemIdx:a})=>k(e,a),scrollContainerRef:e,serverRender:T})})})})}):w?(0,h.jsx)(p.gG,{}):t??null}),O&&(0,h.jsx)(i.xu,{column:12,paddingY:2,children:(0,h.jsx)(m.Z,{partialViewportWidth:"desktopFlashlight"===e})})]})]})}},55463:(e,a,t)=>{t.d(a,{f:()=>s,w:()=>o});var n=t(667294),i=t(498490),l=t(785893);let{Provider:r,useHook:s}=(0,i.Z)("Session");function o({children:e}){let[a,t]=(0,n.useState)(void 0),i=(0,n.useCallback)(()=>t(void 0),[]),s=(0,n.useMemo)(()=>({unauthFollowUserId:a,setUnauthFollowUserId:t,removeUnauthFollowUserId:i}),[a,i]);return(0,l.jsx)(r,{value:s,children:e})}},891880:(e,a,t)=>{t.d(a,{Z:()=>d});var n=t(667294),i=t(477058),l=t(785220),r=t(49985),s=t(785893);class o extends n.Component{componentDidMount(){let{setCurrentPageData:e,viewData:a,viewParameter:t,viewType:n}=this.props;e({viewData:a,viewParameter:t,viewType:n})}componentDidUpdate(e){let{setCurrentPageData:a,viewData:t,viewParameter:n,viewType:i}=this.props;n===e.viewParameter&&i===e.viewType&&(0,l.ZP)(t,e.viewData)||a({viewData:t,viewParameter:n,viewType:i})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){let{auxData:e,children:a,component:t,objectIdStr:n,viewData:i,viewParameter:l,viewType:o,clientTrackingParams:d}=this.props;return(0,s.jsx)(r.Z,{auxData:e,clientTrackingParams:d,component:t,objectIdStr:n,viewData:i,viewParameter:l,viewType:o,children:a})}}function d(e){let{setViewContextData:a,clearViewContextData:t}=(0,i.sV)();return(0,s.jsx)(o,{...e,clearCurrentPageData:t,setCurrentPageData:a})}},49985:(e,a,t)=>{t.d(a,{Z:()=>o});var n=t(667294),i=t(488792),l=t(1006);let r=e=>Object.keys(e).reduce((a,t)=>(void 0===e[t]&&delete a[t],a),{...e}),s=({viewType:e,viewParameter:a,viewData:t,auxData:n,objectIdStr:i,component:s,clientTrackingParams:o,element:d},u)=>{let c=r({event_type:13,view_type:e,view_parameter:a,view_data:t,aux_data:n,object_id_str:i,component:s,clientTrackingParams:o,element:d});-1===Object.keys(c).indexOf("view_type")&&(0,l.My)("mweb.logging.null_view_type"),u(c)};function o(e){let{auxData:a,clientTrackingParams:t,children:l,component:r,element:o,objectIdStr:d,viewData:u,viewParameter:c,viewType:p}=e,g=(0,i.Z)(),m=JSON.stringify(a),h=JSON.stringify(u);return(0,n.useEffect)(()=>{s(e,g)},[g,m,t,r,o,d,h,c,p]),n.Children.only(l)}},115642:(e,a,t)=>{t.d(a,{Nb:()=>s,Of:()=>o,YO:()=>r,ZP:()=>c,x4:()=>u});var n=t(667294),i=t(753652),l=t(590045);let r=({showProductDetailPage:e,isLargerPane:a,showCloseupContentRight:t})=>e&&a?t?l.Uj:l.zT:1,s=(0,i.qe)(({paneWidth:e,pdpCarouselSlotToPaneRatio:a,showCloseupContentRight:t,showProductDetailPage:n,viewportSize:i,maxWidth:l,descriptionPaneWidth:r,inCommentFooterRedesignExp:s,isCloseupRelatedPinsAboveTheFoldEnabled:o,isCommentAttachmentSelectorOpen:d,isCommentThreadExpanded:u,isMediaViewerOpen:c,isPinNoteExpanded:p,isProductDetailsExpanded:g,isShoppingModuleExpanded:m,setIsCommentAttachmentSelectorOpen:h,setIsCommentThreadExpanded:_,setIsMediaViewerOpen:y,setIsPinNoteExpanded:f,setIsProductDetailsExpanded:v,setIsShoppingModuleExpanded:S,closeupWithinMasonryEnabled:w,peekCloseupEnabled:x,isInRemoveMagnifyingGlassVariant:b,setAbortNoActionPlacementTimeout:P,clientTrackingParams:k,isCloseupMediaViewerOpen:T,setIsCloseupMediaViewerOpen:I})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:a,showCloseupContentRight:t,showProductDetailPage:n,viewportSize:i,maxWidth:l,descriptionPaneWidth:r,isCommentAttachmentSelectorOpen:d,inCommentFooterRedesignExp:s,isCloseupRelatedPinsAboveTheFoldEnabled:o,isCommentThreadExpanded:u,isCloseupMediaViewerOpen:T,isMediaViewerOpen:c,isPinNoteExpanded:p,isProductDetailsExpanded:g,isShoppingModuleExpanded:m,setIsCommentAttachmentSelectorOpen:h,setIsCommentThreadExpanded:_,setIsCloseupMediaViewerOpen:I,setIsMediaViewerOpen:y,setIsPinNoteExpanded:f,setIsProductDetailsExpanded:v,setIsShoppingModuleExpanded:S,closeupWithinMasonryEnabled:w,peekCloseupEnabled:x,isInRemoveMagnifyingGlassVariant:b,setAbortNoActionPlacementTimeout:P,clientTrackingParams:k})),o={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:l.Gg,pdpCarouselSlotToPaneRatio:1,maxWidth:l.u6,descriptionPaneWidth:l.u6-l.Gg,inCommentFooterRedesignExp:!1,isCloseupRelatedPinsAboveTheFoldEnabled:!1,isCommentAttachmentSelectorOpen:!1,isCommentThreadExpanded:!1,isCloseupMediaViewerOpen:!1,isMediaViewerOpen:!1,isPinNoteExpanded:!1,isShoppingModuleExpanded:!1,closeupWithinMasonryEnabled:!1,peekCloseupEnabled:!1,isInRemoveMagnifyingGlassVariant:!1,setAbortNoActionPlacementTimeout:()=>{},setIsCloseupMediaViewerOpen:()=>{},setIsCommentAttachmentSelectorOpen:()=>{},setIsMediaViewerOpen:()=>{},setIsShoppingModuleExpanded:()=>{}},d=(0,n.createContext)(o);function u(){let e=(0,n.useContext)(d);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}let c=d},590045:(e,a,t)=>{t.d(a,{$T:()=>f,CI:()=>r,Ch:()=>o,ER:()=>y,Gb:()=>d,Gg:()=>i,Hf:()=>w,Ie:()=>g,KP:()=>m,Kn:()=>s,O5:()=>v,Uj:()=>u,bx:()=>h,d2:()=>p,g9:()=>_,iB:()=>x,rv:()=>S,u6:()=>l,zT:()=>c});var n=t(883119);let i=508,l=1016,r=488,s=992,o=672,d=1176,u=.6,c=.84,p=40,g=72,m=740,h=912,_=32,y=16,f=24,v=2,S=1,w=new n.Ry(5),x={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},243583:(e,a,t)=>{t.d(a,{Yg:()=>o,ib:()=>u,nF:()=>p,xX:()=>c});var n=t(297728),i=t(730212),l=t(410150),r=t(415787);let s=({checkExperiment:e})=>{let{group:a}=e("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0});return{logStat:(e,t)=>(0,r.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:{event:e,group:a,...t}})}},o=()=>{let{isAuthenticated:e}=(0,i.B)(),a=(0,l.HG)(),{checkExperiment:t}=(0,n.F)();return e&&!a?s({checkExperiment:t}):{logStat:()=>{}}},d=0,u=({checkExperiment:e,isAuthMweb:a})=>{if(!a)return;let{logStat:t}=s({checkExperiment:e});(d+=1)<10&&t(`repin_${d}`)};function c({checkExperiment:e,isDesktop:a,isAuthenticated:t}){if(!t)return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};if(a){let{anyEnabled:a}=e("auth_dweb_graphql_pin_page");return{isGraphQLEnabledForRelatedPins:a,isGraphQLEnabledInGeneral:a,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1}}{let{anyEnabled:a,group:t}=e("auth_mweb_graphql_pin_page");switch(t){case"control":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"only_impression_fix":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"enabled":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"enabled_and_impression_fix":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"only_related_pins":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"only_related_pins_and_impression_fix":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"should_render_with_missing_data":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"RenderWithMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"render_and_subscribe":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"RenderWithMissingDataAndSubscribe",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"add_related_pins_latency":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!0};default:return{isGraphQLEnabledInGeneral:a,isGraphQLEnabledForRelatedPins:a,closeupPageSuspenseBehavior:a?"SuspendOnMissingData":null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1}}}}function p(){let{checkExperiment:e}=(0,n.F)(),a=(0,l.HG)(),{isAuthenticated:t}=(0,i.B)();return c({checkExperiment:e,isDesktop:a,isAuthenticated:t})}},598259:(e,a,t)=>{t.d(a,{O:()=>c,Z:()=>p});var n=t(667294),i=t(883119),l=t(144326),r=t(297728),s=t(635258),o=t(557443),d=t(785893);let u={xs:12,sm:16,md:20,lg:24};function c({children:e}){let a=(0,l.ZP)();return(0,d.jsx)(i.u,{link:(0,d.jsx)(i.rU,{href:s.vBy,target:"blank",children:(0,d.jsx)(i.xv,{color:"inverse",size:"100",weight:"bold",children:a._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:a._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function p({iconOnly:e,isVerifiedIdentity:a,isVerifiedMerchant:t,showText:s,size:p}){let g=(0,l.ZP)(),{checkExperiment:m}=(0,r.F)(),{surface:h}=(0,o.$)(),_=(0,d.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,d.jsx)(i.JO,{accessibilityLabel:g._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:u[p]}),s&&(0,d.jsx)(i.xu,{marginStart:2,children:(0,d.jsx)(i.xv,{color:"shopping",inline:!0,weight:"bold",children:g._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});if((a||t)&&(!h||h&&["AuthHomefeed","RelatedPinGrid","SearchItem","BaseBoardPinGrid"].includes(h))&&"enabled_att_trusted_merchants_and_verified_creators_only"===m("simplify_creator_attributions_web").group)return(0,d.jsx)(n.Fragment,{});let{group:y}=m("simplify_creator_attributions_web");switch(y){case"enabled_att_trusted_merchant_blue_checkmark":return(0,d.jsxs)(n.Fragment,{children:[t&&!e&&(0,d.jsx)(c,{children:_}),t&&e&&_]});case"enabled_att_creators_with_red_checkmarks":return(0,d.jsx)(n.Fragment,{children:a&&(0,d.jsx)(i.JO,{accessibilityLabel:g._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:u[p]})});default:return(0,d.jsxs)(n.Fragment,{children:[t&&!e&&(0,d.jsx)(c,{children:_}),t&&e&&_,a&&!t&&(0,d.jsx)(i.JO,{accessibilityLabel:g._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:u[p]})]})}}},810655:(e,a,t)=>{t.d(a,{A:()=>r,Z:()=>s});var n=t(667294),i=t(883119),l=t(785893);let r={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function s({backgroundColor:e,children:a,coverImage:t,disableTabIndex:s,height:o,id:d,isHovered:u,onClick:c,onMouseDown:p,onMouseEnter:g,onMouseLeave:m,searchBoxRenderStopwatch:h,url:_,width:y}){let[f,v]=(0,n.useState)(!1),S=()=>{g?g():v(!0)},w=()=>{m?m():v(!1)},x=u||f,b=x?r.hoverOverlay:r.bubbleOverlay;return(0,l.jsx)(i.Tg,{href:_,onBlur:w,onFocus:S,onMouseDown:p,onMouseEnter:S,onMouseLeave:w,onTap:()=>{c?.(d)},rounding:4,tabIndex:s?-1:void 0,children:(0,l.jsx)(i.zd,{height:o,rounding:4,width:y||"100%",children:t?.url?(0,l.jsxs)(i.Ee,{alt:"",color:e,fit:"cover",naturalHeight:t.height??1,naturalWidth:t.width??1,onLoad:()=>{h?.stop()},role:"presentation",src:t.url,children:[(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:b},height:"100%",width:"100%"}),"function"==typeof a?a({isHovered:x}):a]}):(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},809079:(e,a,t)=>{t.d(a,{Z:()=>eI});var n,i,l,r,s,o,d=t(667294);t(167912);var u=t(616550),c=t(883119),p=t(47848),g=t(289762),m=t(144326),h=t(297728),_=t(961754),y=t(414416),f=t(847452),v=t(767552),S=t(39929),w=t(559028),x=t(240760),b=t(1006),P=t(785893);let k=void 0!==n?n:n=t(214172),T=()=>{(0,b.NC)("click_best_pin_board",!0)},I=()=>{(0,b.NC)("click_best_pin_profile",!0)},E=({pin:e})=>{let{pinner:a}=e,{username:t,fullName:n}=a??{},i=a?.imageMediumUrl||a?.imageSmallUrl,l=`/${t??""}/`;return(0,P.jsx)(c.Tg,{fullWidth:!1,href:l,onTap:I,rounding:"circle",children:(0,P.jsx)(w.qE,{name:n??"",outline:!0,size:"sm",src:i??""})})},A=({pin:e})=>{let a=(0,m.ZP)(),{board:t,pinner:n}=e,{name:i,privacy:l,url:r}=t??{},s=t?.entityId||"",{username:o,fullName:d}=n??{},u=`/${o??""}/`,p=(0,P.jsx)(c.xv,{inline:!0,size:"200",weight:"bold",children:(0,P.jsx)(c.rU,{display:"inlineBlock",href:u,onClick:I,underline:"hover",children:d})},d);return"protected"===l?(0,x.nk)(a._('{{ pinnerName }} saved this Pin', 'Showing who saved this pin, but not which board (private board), on closeup', 'Showing who saved this pin, but not which board (private board), on closeup'),{pinnerName:p}):(0,x.nk)(a._('{{ pinnerName }} saved to {{ boardName }}', 'Showing who saved this pin to which board on closeup', 'Showing who saved this pin to which board on closeup'),{pinnerName:p,boardName:(0,P.jsx)(c.xv,{inline:!0,size:"200",weight:"bold",children:(0,P.jsx)(c.rU,{href:r??"",onClick:T,children:i},"board")},s)})},F=({pinKey:e})=>{let a=(0,p.Z)(k,e);return(0,P.jsxs)(c.xu,{alignItems:"center","data-test-id":"pin-attribution",direction:"row",display:"flex",marginTop:3,children:[(0,P.jsx)(E,{pin:a}),(0,P.jsx)(c.xu,{marginEnd:2}),(0,P.jsx)(c.xv,{size:"200",children:(0,P.jsx)(A,{pin:a})})]})},C=e=>{e.target&&e.target instanceof HTMLElement&&(e.target.style.textDecoration="underline")},R=e=>{e.target&&e.target instanceof HTMLElement&&(e.target.style.textDecoration="none")};var O=t(488792);function L({pageType:e,pinCreditPrefix:a,pin:t,pinLink:n,viewParameter:i}){let l=(0,m.ZP)(),r=(0,O.Z)();if("topic"!==e.page&&(!t.domain||"Uploaded by user"===t.domain))return null;let s="topic"!==e.page||e.isAuth?"100":"200",o="topic"===e.page&&!!t.nativeCreator,d=o?t.nativeCreator?.fullName:t.domain;return(0,P.jsx)(c.xu,{display:"flex",flex:"none",justifyContent:"start",marginBottom:2,children:(0,P.jsx)(c.rU,{display:"inlineBlock",href:o?`/${t.nativeCreator?.username||""}/`:n,onClick:()=>{"topic"===e.page?(0,b.NC)("click_topic_best_pin_link"):r({event_type:12,view_type:3,object_id_str:t.entityId,component:85,view_parameter:i})},rel:"nofollow",target:"blank",underline:"hover",children:(0,P.jsx)(c.xv,{size:s,children:(0,x.nk)(l._('{{ pinCreditPrefix }} {{ pinCredit }}', 'Tells the user where the pin is from in the form of "Saved from <website>"', 'Tells the user where the pin is from in the form of "Saved from <website>"'),{pinCreditPrefix:a,pinCredit:(0,P.jsx)(c.xv,{inline:!0,size:s,weight:"bold",children:"topic"!==e.page?(0,P.jsxs)("span",{onBlur:R,onFocus:C,onMouseLeave:R,onMouseOver:C,children:[" ",t.domain]}):d},o?"creatorProfile":"pinLinkDomain")})})})})}var j=t(953059),D=t(357013),N=t(26473),M=t(178793),K=t(786890),Z=t(220797),U=t(593078),z=t(947956),G=t(756222),B=t(302749);let H=void 0!==i?i:i=t(206146);function V({recipeKey:e}){let a=(0,p.Z)(H,e);if(a?.aggregateRating?.ratingValue&&a.aggregateRating.reviewCount){let e="number"==typeof a.cookTimes?.cook?.m&&"number"==typeof a.cookTimes.prep?.m?`${a.cookTimes.cook.m+a.cookTimes.prep.m} minutes \xb7 `:"";return(0,P.jsxs)(d.Fragment,{children:[(0,P.jsx)(B.Z,{max_rating:a.aggregateRating.bestRating,rating:a.aggregateRating.ratingValue},a.aggregateRating.ratingValue),(0,P.jsx)(c.xv,{inline:!0,size:"200",children:` ${a.aggregateRating.reviewCount} \xb7 ${e}`})]})}return null}var W=t(730212);let Y=void 0!==l?l:l=t(727128),$=e=>{let a=null;e.lastRepinDate&&(a=new Date(e.lastRepinDate));let t=null;return(e.createdAt&&(t=new Date(e.createdAt)),a)?t?a>t?a:t:a:t},Q=e=>{let a="";if(e.richMetadata&&e.richMetadata.article&&e.richMetadata.article.datePublished)return a;let t=$(e);if(t&&t.getFullYear()===new Date().getFullYear()){let n=new Set(["film_music_books","art","home_decor","food_drink","womens_fashion","travel","weddings","hair_beauty","holidays_events","mens_fashion","products","celebrities","technology"]),{category:i}=e;n.has(i)&&(a=t?(0,P.jsx)(j.Z,{dateFormatType:j.k.LONG_MONTH_YEAR,useUTC:!1,value:t}):"")}return a},q=e=>!!(e.richMetadata&&e.richMetadata.article&&e.richMetadata.article.datePublished),J=(e,a)=>{let t=new Date((e.richMetadata??{}).article?.datePublished??Date.now()),n=t.getTime(),i=new Date().getTime();return null==a||i-n<=31536e6*a?(0,P.jsx)(j.Z,{dateFormatType:j.k.LONG_MONTH_YEAR,useUTC:!1,value:t}):""};function X(e){let{pinKey:a,viewportSize:t,pageType:n}=e,i=(0,p.Z)(Y,a),{pinCreditPrefix:l,pinLink:r}=(0,Z.Z)(i),s=(0,U.Z)(i),{description:o}=(0,K.eK)({richMetadataDescription:i.richMetadata?.description,richSummaryDisplayName:i.richSummary?.displayName,closeupUnifiedDescription:i.closeupUnifiedDescription});"videos_category"===n.page&&(o=(0,K.kt)(o,i.nativeCreator?.username||""));let d="wide"===t,u=(0,K.Ly)({pinTitle:i.title,gridTitle:i.gridTitle,richSummaryDisplayName:i.richSummary?.displayName??"",richMetadataTitle:i.richMetadata?.title??"",storyPinDataId:i.storyPinDataId,storyPinDataMetadataPinTitle:i.storyPinData?.metadata?.pinTitle,pinJoinVisualAnnotation:i.pinJoin?.visualAnnotation});(i.gridTitle||"").trim()&&u!==i.gridTitle&&(u=(0,K.EU)(i.gridTitle,200));let g=(0,M.r)(i.richMetadata?.recipe?.name,!!i.richMetadata?.recipe?.categorizedIngredients,i.richMetadata?.recipe?.fromAggregatedData??!1)?i.richMetadata?.recipe:null,m=q(i)&&J(i,2),h=Q(i)||m,{isBot:_,isSocialBot:y}=(0,W.B)();return(0,P.jsx)(c.xu,{alignContent:"between","data-test-id":"UnauthBestPinCardBodyContainer",direction:"column",display:"flex",flex:"grow",padding:8,position:"relative",width:"100%",children:(0,P.jsxs)(c.xu,{direction:"column",display:"flex",flex:"grow",position:"relative",children:[(0,P.jsx)(L,{pageType:n,pin:{entityId:i.entityId,domain:i.domain||"",nativeCreator:i.nativeCreator&&{fullName:i.nativeCreator.fullName,username:i.nativeCreator.username}},pinCreditPrefix:"topic"===n.page&&i.nativeCreator?"Created by":l,pinLink:r??"",viewParameter:(0,z.Z)({hasPin:!0,hasPinRichMetadata:!!i.richMetadata,hasPinRichMetadataProducts:!!i.richMetadata?.products,hasPinRichMetadataArticle:!!i.richMetadata?.article,hasPinRichMetadataRecipe:!!i.richMetadata?.recipe,hasPinStoryPinData:!!i.storyPinData})}),(0,P.jsx)(c.kC,{direction:"row",justifyContent:"between",children:(0,P.jsx)(c.xu,{display:"flex",marginEnd:d?0:3,marginTop:d?3:0,overflow:"hidden",children:u&&(0,P.jsx)("h2",{"data-test-id":"UnauthBestPinCardTitle",style:{fontWeight:600,fontSize:"28px",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:u})})}),h?(0,P.jsx)(c.xu,{marginTop:1,children:(0,P.jsx)(c.xv,{color:"subtle",children:h})}):null,o&&(0,P.jsx)(c.xu,{display:"flex",marginTop:3,overflow:"hidden",children:(0,P.jsxs)("h3",{style:{fontWeight:"normal",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",fontSize:"14px"},children:[g&&(0,P.jsx)(V,{recipeKey:g}),o]})}),g&&(0,P.jsx)(G.Z,{marginOverrides:g?{outerMarginTop:32,ingredientMarginBottom:4}:null,recipeProps:{recipe:{categorizedIngredients:g.categorizedIngredients,name:g.name,image:(0,N.Z)({imagesUrls:s,embedSrc:i.embed?.src,embedType:i.embed?.type,excludeOriginals:!_&&!y})}}}),(0,P.jsxs)(c.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",marginTop:2,children:[(0,P.jsx)(F,{pinKey:i}),(0,P.jsx)(c.kC,{alignItems:"stretch",justifyContent:"end",children:!i.repinCount||i.repinCount<1?null:(0,P.jsxs)(c.kC,{alignItems:"center",justifyContent:"start",children:[(0,P.jsx)(c.JO,{accessibilityLabel:"Pin",color:"subtle",icon:"pin",size:12}),(0,P.jsx)(c.xv,{color:"default",inline:!0,size:"100",children:(0,P.jsx)(D.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:i.repinCount})})]})})]})]})})}var ee=t(409416),ea=t(219867),et=t(282999),en=t(488379),ei=t(509781),el=t(154785),er=t(499068),es=t(868808),eo=t(969119),ed=t(74264),eu=t(665992),ec=t(122882),ep=t(472921),eg=t(682661),em=t(919122),eh=t(124747);let e_=0,ey="",ef=void 0!==r?r:r=t(407303);function ev(e){let{imageSpec_564x:a,imageSpec_orig:t,imageSignature:n}=e,i=a&&t,{url:l}=i??{},r=i?.width??1,s=i?.height??void 0;return"number"==typeof r&&"number"==typeof s&&r>564&&(s*=564/r,r=564),{width:r,height:s,url:l,imageSignature:n}}let eS=({data:e,index:a,viewParameter:t,productsURL:n})=>{switch(e.type){case"pin":return(0,P.jsx)(eg.ZP,{duploQueryRef:null,pinId:e.id,slotIndex:a,viewParameter:t,viewType:72});case"story":return n&&(0,P.jsx)(S.Z,{dangerouslySetActionUrl:n,slotIndex:a,story:e});default:return null}},ew=({resourceOptions:e})=>{let a=(0,m.ZP)(),{data:t,isAtEnd:n,isFetching:i,fetchMore:l}=(0,_.Z)({name:"VisualLiveSearchResource",options:e}),r=(0,u.TH)(),s=`${r.pathname}products/${r.search}`;return(0,P.jsxs)(d.Fragment,{children:[t&&(0,P.jsx)(eh.Z,{customLayoutType:"desktopFlashlight",feedItems:t.results||[],feedKey:"flashlight-dweb-unauth",pagination:{loadNext:l,hasNext:n,isLoadingNext:i,refetch:()=>void 0},renderFeedItem:(e,a)=>eS({data:e,index:a,viewParameter:3050,productsURL:s})}),(0,P.jsx)(c.$j,{accessibilityLabel:a._('Loading visual search results...', 'unauthDesktopVisualSearch.flashlightFeed.loading', 'Accessibility label for loading visual search results'),show:i})]})},ex=({resourceOptions:e})=>{let a=(0,m.ZP)(),{data:t,isAtEnd:n,isFetching:i,fetchMore:l}=(0,_.Z)({name:"VisualLiveSearchProductFeedResource",options:e});return(0,P.jsxs)(d.Fragment,{children:[t&&(0,P.jsx)(eh.Z,{customLayoutType:"desktopFlashlight",feedItems:t||[],feedKey:"flashlight-products-dweb-unauth",pagination:{loadNext:l,hasNext:n,isLoadingNext:i,refetch:()=>void 0},renderFeedItem:(e,a)=>eS({data:e,index:a,viewParameter:3334})}),(0,P.jsx)(c.$j,{accessibilityLabel:a._('Loading visual search product results...', 'unauthDesktopVisualSearch.flashlightProductFeed.loading', 'Accessibility label for loading visual search product results'),show:i})]})};function eb({pinKey:e}){let a=(0,m.ZP)(),{isRTL:t}=(0,W.B)(),n=(0,O.Z)(),i=(0,u.k6)(),l=(0,u.TH)(),r=(0,d.useRef)(),s=(0,u.$B)(),o=(0,el.Z)(),{pinId:g}=(0,y.Z)(s.params.id||""),h=(0,es.mB)(l.search),_=(0,v.Z)(l),S=function(e){let a=parseInt(e??"",10);switch(a){case 1:case 2:case 3:case 4:case 5:case 6:return a;default:return}}(h.cropSource),w=(0,et.hd)(l),x=(0,p.Z)(ef,e),{getNormalizedPinImage:b}=(0,en.Z)({pinKey:x});if((0,d.useEffect)(()=>{if(!_&&x){let{width:e,height:a}=b(),t=(0,ep.Z)({cropArea:{h:a-2*ee.SP,w:e-2*ee.SP,x:ee.SP,y:ee.SP},isProductPage:w,pinId:g,surfaceType:"flashlight"});i.replace(t)}},[b,i,_,w,x,g]),(0,eo.Z)(()=>{n({event_type:13,view_type:72,view_parameter:3050,view_data:{pin_id:g}})}),(0,d.useEffect)(()=>{let e=r.current;return e&&ey===g&&(e.scrollTop=e_),()=>{e&&(e_=e.scrollTop,ey=g)}}),!x)return(0,P.jsx)(ei.Z,{objectId:"",view:72,children:(0,P.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{top:er.Pw}},position:"relative",children:(0,P.jsx)(c.$j,{accessibilityLabel:a._('Loading Pin data', 'unauthDesktopFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})})});let{imageSignature:k,description:T}=x,{width:I,height:E,url:A}=ev(x),F=function({initialCropArea:e,pin:a}){let t;if(e)t={...e};else{let{visualObjects:e}=a,{width:n=1,height:i=1}=ev(a);if(e&&e.length){let{x:a,y:l,w:r,h:s}=e[0];t=(0,eu.Z)({cropArea:{x:a,y:l,w:r,h:s},scaledWidth:n,scaledHeight:i})}else{let[e,a]=[n/6,i/6],[l,r]=[n-2*e,i-2*a];t={x:e,y:a,w:l,h:r}}}return{x:Math.floor(t.x??0),y:Math.floor(t.y??0),w:Math.floor(t.w??0),h:Math.floor(t.h??0)}}({initialCropArea:_,pin:x}),C=l.state&&l.state.internalNavigation,R=I+f.n,L=(R??1)+24,j={pin_id:g,imageSignature:k,crop:(0,ed.Z)({cropArea:F,scaledWidth:I,scaledHeight:E}),crop_source:S||5},D={__style:{top:140}};return(0,P.jsx)(ei.Z,{objectId:"",view:72,children:(0,P.jsxs)(d.Fragment,{children:[(0,P.jsxs)(c.xu,{alignItems:"center",color:"light",dangerouslySetInlineStyle:{__style:{top:80}},display:"flex",height:60,position:"fixed",width:"100%",zIndex:new c.Ry(4),children:[(0,P.jsx)(c.xu,{left:!0,position:"absolute",children:(0,P.jsx)(em.Z,{})}),(0,P.jsx)(c.xu,{flex:"grow",children:(0,P.jsx)(c.X6,{align:"center",size:"400",children:w?a._('Shop similar items', 'unauthDesktopFlashlightPage.flashlightProductsFeed.header', 'Header explaining results of flashlight products search'):a._('Visually similar results', 'unauthDesktopFlashlightPage.flashlightFeed.header', 'Header explaining results of flashlight search')})})]}),w?(0,P.jsx)(c.xu,{dangerouslySetInlineStyle:D,position:"relative",children:(0,P.jsx)(ex,{resourceOptions:j})}):(0,P.jsxs)(c.xu,{display:"flex",paddingX:12,children:[(0,P.jsxs)(c.xu,{ref:r,dangerouslySetInlineStyle:D,height:"calc(100% - 140px)",marginEnd:3,marginStart:3,overflow:"auto",position:"fixed",width:R,zIndex:new c.Ry(4),children:[(0,P.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{width:I,height:E}},"data-test-id":"flashlight-enabled-image",children:(0,P.jsxs)(c.zd,{height:E,rounding:2,width:I,children:[(0,P.jsx)(c.Ee,{alt:T??"",naturalHeight:E??1,naturalWidth:I??1,src:A??""}),(0,P.jsx)(ea.Z,{cropArea:F,customCropper:function({cropArea:e,cropSource:a}){let t=window.location.pathname+window.location.search,n=(0,ep.Z)({cropArea:e,cropSource:a??6,isProductPage:w,pinId:g,surfaceType:"flashlight"});o({action:"trigger",item:"cropper-changed",within:"flashlight-page"}),n!==t&&g&&i.replace({pathname:`/pin/${g}/visual-search/`,search:(0,ec.Z)({cropArea:e,cropSource:a??6,surfaceType:"flashlight"}),state:{internalNavigation:!0}})},imageSignature:k??void 0,imageSize:{height:E,width:I},pinKey:x,showAnimation:!C,surfaceType:"flashlight",viewParameter:3050,viewType:72})]})}),(0,P.jsx)(c.xu,{"data-test-id":"closeupDescription",direction:"column",display:"flex",margin:5,maxWidth:I??1,position:"relative",children:(0,P.jsx)(X,{pageType:{isAuth:!1,page:"flashlight"},pinKey:x,viewportSize:"narrow"})})]}),(0,P.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{...D.__style,...t?{marginRight:`${L}px`}:{marginLeft:`${L}px`}}},position:"relative",width:"100%",children:(0,P.jsx)(ew,{resourceOptions:j})})]})]})})}let eP=void 0!==s?s:s=t(925517),ek=void 0!==o?o:o=t(572394);function eT(){let{checkExperiment:e}=(0,h.F)(),a=(0,u.$B)(),{pinId:t}=(0,y.Z)(a.params.id||""),n=e("unauth_dweb_graphql_flashlight_pinResource").anyEnabled,i=(0,g.Z)({strategy:n?"GRAPHQL":"LEGACY",query:ek,variables:{pinId:t},useGetLegacyData:({pinId:e})=>(0,_.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0}}).data}),l=i?.v3GetPinQuery?.__typename==="V3GetPin"?i.v3GetPinQuery.data:null,r=(0,p.Z)(eP,l);return(0,P.jsx)(eb,{pinKey:r})}function eI(){let e=(0,m.ZP)();return(0,P.jsx)(d.Suspense,{fallback:(0,P.jsx)(c.$j,{accessibilityLabel:e._('Loading Pin data', 'unauthDesktopFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0}),children:(0,P.jsx)(eT,{})})}},578406:(e,a,t)=>{t.d(a,{N4:()=>l,Wh:()=>n,hr:()=>i});let n=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),i=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),l=({i18n:e,toFollow:a})=>a?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},934648:(e,a,t)=>{t.d(a,{Z:()=>s});var n=t(144326),i=t(410150),l=t(754143),r=t(578406);let s=()=>{let e=(0,n.ZP)(),a=(0,i.HG)(),{viewer:t,loginForMore:s,limitedLoginModalSubheader:o,limitedLoginModalNextLocation:d}=(0,l.H)();return"LIMITED_LOGIN"===t.type?({modalHeader:t,nextLocation:n})=>i=>{let l=null;i&&(i.nativeEvent&&i.nativeEvent instanceof Event?l=i:i.event&&(l=i.event)),l&&(l.preventDefault&&l.preventDefault(),l.stopPropagation&&l.stopPropagation()),s?.setVisible(!0),o?.setText(t||(a?r.hr(e):r.Wh(e))),n&&d?.setRoute(n)}:({fn:e})=>e}},211397:(e,a,t)=>{t.d(a,{Z:()=>p});var n=t(667294),i=t(545007),l=t(656817),r=t(297728),s=t(786974),o=t(468808),d=t(535298),u=t(212602),c=t(989386);function p(){let{checkExperiment:e}=(0,r.F)(),a=(0,i.I0)(),t=(0,n.useRef)(),{width:p=0,height:g=0}=(0,l.Z)()??{};return({url:n})=>(function({appliedUnifiedFilters:e,checkExperiment:a,dispatch:t,optionsKeyRef:n,isAuthenticated:i=!0,isDesktop:l=!0,url:r,windowHeight:p,windowWidth:g}){let m=new URL(r.startsWith("http")?r:`${window.location.origin}${r}`),h=m.pathname.split("/");if(4!==h.length||"search"!==h[1])return;let{search:_}=m,y=h[2],{autoCorrectionDisabled:f,bubbleId:v,category:S,currentlyAppliedFiltersParamTerm:w,domains:x,guidedSearchQuery:b,inGlobalSearch:P,journeyDepth:k,personalizationPinSig:T,priceMax:I,priceMin:E,query:A,requestParams:F,rs:C,scope:R,selectedOneBarModules:O,sourceId:L,sourceModuleId:j,user:D}=(0,c.Z)({isDesktop:l,scope:y,search:_}),N=(0,u.Z)({checkExperiment:a,isAuthenticated:i,isDesktop:l,scope:R,windowHeight:p,windowWidth:g}),M=(0,d.Z)({appliedUnifiedFilters:e,autoCorrectionDisabled:f,bubbleId:v,currentlyAppliedFiltersParamTerm:w,guidedSearchQuery:b,inGlobalSearch:P,initialCategory:S,initialDomains:x,initialMaxPrice:I,initialMinPrice:E,isDuplo:!i||!l,journeyDepth:k,pageSize:N,personalizationPinSig:T,query:A,requestParams:F,rs:C,scope:R,search:_,selectedOneBarModules:O,sourceId:L,sourceModuleId:j,sourceUrl:r,user:D}),K=(0,s.Z)(M);n.current!==K&&(n.current=K,t((0,o.U)(M.name,{options:M.options},null)))})({checkExperiment:e,dispatch:a,optionsKeyRef:t,url:n,windowHeight:g,windowWidth:p})}},255843:(e,a,t)=>{t.d(a,{Z:()=>aa});var n,i,l,r,s,o,d,u,c,p,g,m,h=t(667294);t(167912);var _=t(616550),y=t(883119),f=t(602185),v=t(47848),S=t(289762),w=t(144326),x=t(297728),b=t(957486),P=t(931397),k=t(414416),T=t(343931),I=t(767552),E=t(409416),A=t(488379),F=t(691566);let C=void 0!==n?n:n=t(478976);var R=t(868808),O=t(811036),L=t(12886),j=t(74264),D=t(425423),N=t(961754),M=t(847452),K=t(573706),Z=t(136061),U=t(785893);function z({arrowType:e,pinId:a,viewParameter:t,viewType:n}){let i=(0,w.ZP)(),l=(0,_.k6)(),{previous:r}=(0,Z.Hv)(),{logContextEvent:s}=(0,K.v)();return(0,U.jsx)(y.xu,{"data-test-id":"go-back-button",children:(0,U.jsx)(y.hU,{accessibilityLabel:i._('Go back', 'Accessible icon for close button', 'Accessible icon for close button'),icon:e??"directional-arrow-left",iconColor:"darkGray",onClick:()=>{if(s({event_type:101,view_type:n,element:34,view_parameter:t}),0===r.length){l.replace(`/pin/${a}/`);return}l.goBack()}})})}var G=t(732533),B=t(635284),H=t(730212),V=t(547007);function W({buttonText:e,handleDrawerClose:a,isDrawerOpen:t,onClick:n,largeSize:i=!1,reversed:l=!1,invertWhenDrawerIsOpen:r=!1,hasProductFiltersApplied:s=!1}){let o=(0,w.ZP)(),d=r&&t,u=(0,U.jsx)(y.JO,{accessibilityLabel:"",color:d?"light":"dark",icon:"filter"},"filterIcon"),c=e&&(0,U.jsx)(y.xv,{align:"center",color:d?"inverse":"default",weight:"bold",children:e},e);return(0,U.jsx)(y.iP,{accessibilityLabel:o._('Filter', 'productsFilterButton', 'Button to filter products results'),onTap:()=>{t?a():n()},rounding:"pill",children:(0,U.jsxs)(y.xu,{position:"relative",children:[(0,U.jsx)(y.xu,{alignContent:"center",color:d?"dark":"secondary",dangerouslySetInlineStyle:i?{__style:{padding:"18px"}}:void 0,display:"flex",justifyContent:"center",minHeight:40,paddingX:4,rounding:"pill",children:(0,U.jsx)(y.kC,{alignItems:"center",gap:{row:2,column:0},children:l?[c,u]:[u,c]})}),s&&(0,U.jsx)(y.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},display:"flex",height:14,justifyContent:"center",minWidth:14,position:"absolute",right:!0,rounding:"pill",top:!0})]})})}function Y({filtersText:e,handleDrawerClose:a,handleDrawerOpen:t,isDrawerOpen:n,isProductOnlyFeed:i,pinId:l,showFilter:r,title:s,viewParameter:o,viewType:d}){let{logContextEvent:u}=(0,K.v)(),{isRTL:c}=(0,H.B)(),p=(0,h.useRef)(null);(0,h.useEffect)(()=>(r&&u({event_type:120,view_type:d,component:13467,element:11735,view_parameter:o}),p.current&&B.Z.addObstruction("top",p.current),()=>{p.current&&B.Z.removeObstruction("top",p.current)}),[r]);let g=()=>{u({event_type:101,view_type:d,component:13467,element:11735,view_parameter:o}),t&&t()};return(0,U.jsx)(V.Z,{position:"fixed",style:{width:"100%",zIndex:3,backgroundColor:"#ffffff"},children:(0,U.jsxs)(y.xu,{ref:p,alignItems:"center",color:"default","data-test-id":"related-products-header",display:"flex",justifyContent:"center",minHeight:60,position:"absolute",top:!0,width:"100%",children:[(0,U.jsx)(y.xu,{left:!c,marginStart:5,position:"absolute",right:c,children:(0,U.jsx)(z,{arrowType:i?"directional-arrow-left":"cancel",pinId:l,viewParameter:o,viewType:d})}),(0,U.jsx)(G.Z,{title:s}),r&&"boolean"==typeof n&&g&&e&&a&&(0,U.jsx)(y.xu,{"data-test-id":"filter-button",left:c,marginEnd:12,position:"absolute",right:!c,children:(0,U.jsx)(W,{buttonText:e,handleDrawerClose:a,isDrawerOpen:n,onClick:g})})]})})}var $=t(219867),Q=t(770975);let q=void 0!==i?i:i=t(306569);function J({cropArea:e,description:a,height:t,imageSignature:n,imageUrl:i,pinId:l,pinKey:r,requestParams:s,showAnimation:o,surfaceType:d,trafficSource:u,viewParameter:c,width:p}){let g=(0,v.Z)(q,r),m=(0,Q.E)();return(0,U.jsx)(y.xu,{"data-test-id":"flashlight-enabled-image",height:t,width:p,children:(0,U.jsxs)(y.zd,{height:t,rounding:4,width:p,children:[(0,U.jsx)(y.Ee,{alt:a,naturalHeight:t,naturalWidth:p,onLoad:()=>{m&&m.markConstraintComplete("visualSearchMainPinImageRender")},src:i}),(0,U.jsx)($.Z,{cropArea:e,imageSignature:n,imageSize:{height:t,width:p},pinId:l,pinKey:g,requestParams:s,showAnimation:!!o,surfaceType:d,trafficSource:u,viewParameter:c})]})})}var X=t(339842),ee=t(354174),ea=t(487211),et=t(587062);function en(){let e=(0,Q.E)();return a=>{e&&a&&("remove"===a?e.removeConstraint("shoppingModuleRender"):"complete"===a&&e.markConstraintComplete("shoppingModuleRender"))}}var ei=t(679482),el=t(769064),er=t(912985),es=t(682661);function eo({action:e,component:a,dangerouslySetActionUrl:t,element:n,contextLogData:i,hasPwtConstraint:l,id:r,objects:s,surface:o,viewType:d,viewParameter:u}){let{logContextEvent:c}=(0,K.v)(),p=en(),{url:g,text:m}=e||{},h=g&&m?e=>(0,U.jsx)(er.Z,{coverImages:e.images,height:ei.yF,onClick:()=>c({event_type:101,view_type:d,view_parameter:u,component:a,element:n,aux_data:{story_id:r,...i}}),text:m,url:t??g,width:ei.yF},"actionBubble"):null,{containerRef:_,itemsToRender:f,actionItem:v}=(0,el.n)({items:s,itemWidth:ei.yF,itemGap:ei.oX,actionItemType:h?"one":void 0});return l&&p&&p(f&&f.length>0?"complete":"remove"),(0,U.jsxs)(el.Z,{containerRef:_,itemGap:ei.oX,children:[f.map((e,t)=>(0,U.jsx)(y.xu,{"data-grid-item":"true",flex:"none",width:ei.yF,children:(0,U.jsx)(es.ZP,{auxData:i,componentType:a,duploQueryRef:null,pin:e,pinId:e.id,pinImageCrop:{height:ei.yF,width:ei.yF},slotIndex:t,surface:o??"ShoppingDynamicHeightGrid",viewParameter:u,viewType:d})},e.id)),v&&h?.(v)]})}function ed({title:e}){return(0,U.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:55}},"data-test-id":"unified-feed-subheader",display:"flex",justifyContent:"center",children:(0,U.jsx)(y.X6,{accessibilityLevel:2,size:"400",children:e})})}var eu=t(794352),ec=t(87416);let ep={flashlight:72,stela:427,stl:427};function eg({pinId:e,surfaceType:a,visualSearchFlashlightUnifiedResource:t}){let n=(0,_.TH)(),i=en(),{data:l,isLoaded:r}=t,s=l?.results||[],o=a?ep[a]:72;i&&(!s&&r||s&&!s.some(e=>"story"===e.type&&"unified_visual_feed_product_upsell"===e.story_type))&&i("remove");let d=s.filter(e=>"story"===e.type);return(0,U.jsx)(h.Fragment,{children:d.map((a,t)=>{if("story"!==a.type)return null;let{action:i,id:l="",objects:r,story_type:s,title:d}=a,u=d?.format||"",c=(0,R.mB)(n.search),p=(0,R.mB)(i?.url).full_feed_title||"";c.full_feed_title=(0,eu.Z)(p);let g=(0,R.XP)(c),m=`/pin/${e}/visual-search/products/?${g}`;switch(s){case"stela_shop":case"unified_visual_feed_product_upsell":return(0,U.jsx)(ec.qS,{auxData:{story_type:s},component:14339,loggingId:l,objectIdStr:l,slotIndex:t,viewParameter:3462,viewType:o,children:({impressionTrackerRef:e})=>(0,U.jsxs)(y.xu,{ref:e,children:[u&&(0,U.jsx)(ed,{title:u}),(0,U.jsx)(y.xu,{"data-test-id":"unified-feed-stela-story",marginBottom:12,marginTop:4,children:(0,U.jsx)(eo,{action:i,component:14339,contextLogData:{story_type:s},dangerouslySetActionUrl:m,element:179,hasPwtConstraint:!0,id:l,objects:r,surface:"ShoppingModule",viewParameter:3462,viewType:o})})]})},l);case"unified_visual_feed_organic_header":return(0,U.jsx)(ec.qS,{auxData:{story_type:s},component:14339,loggingId:l,objectIdStr:l,slotIndex:t,viewParameter:3462,viewType:o,children:({impressionTrackerRef:e})=>(0,U.jsx)(y.xu,{ref:e,marginBottom:4,children:(0,U.jsx)(ed,{title:a?.title?.format||""})})},l);default:return null}})})}var em=t(945034),eh=t(847881);let e_=void 0!==l?l:l=t(441089);function ey({isFilterOpened:e,isProductOnlyFeed:a,oneBarModules:t,pinKey:n,surfaceType:i,viewParameter:l,viewType:r,visualSearchFlashlightUnifiedResource:s}){let o=(0,v.Z)(e_,n),d=(0,ea.Z)(),u="stl"===i,c=u||a,{data:p}=s,g=p?.search_identifier;return(0,U.jsxs)(h.Fragment,{children:[d&&t&&t.length>0&&(0,U.jsx)(y.xu,{position:"relative",zIndex:new y.Ry(1),children:(0,U.jsx)(eh.v,{children:(0,U.jsx)(et.f,{children:(0,U.jsx)(ee.Z,{oneBarModulesKey:null,oneBarModulesRest:t,paddingX:8})})})}),!u&&(0,U.jsx)(eg,{pinId:o.entityId,surfaceType:i,visualSearchFlashlightUnifiedResource:s}),(0,U.jsx)(em.Z,{commerceData:{is_product_only_feed:c},isFilterOpened:e,isProductFeed:c,searchId:g,viewParameter:l,viewType:r,visualSearchFlashlightUnifiedResource:s})]})}var ef=t(213512),ev=t(656817),eS=t(212515),ew=t(288544),ex=t(509781),eb=t(969119),eP=t(240760),ek=t(472921);t(422578);var eT=t(151958);let eI=void 0!==r?r:r=t(682230);var eE=t(776919),eA=t(829413),eF=t(66560);let eC=({data:e,itemIdx:a})=>{let t=(0,eF.S6)(),n=(e.id?t(e.id):null)||e;return(0,U.jsx)(es.rX,{duploQueryRef:null,pinId:n.id,pinKey:null!=n?{type:"deprecated",data:n}:null,slotIndex:a,surface:"RelatedProductsFeed",viewParameter:3334,viewType:72})};function eR({visualLiveSearchProductFeedResourceData:e}){let a=(0,w.ZP)(),{data:t,isAtEnd:n,isLoaded:i,isFetching:l,fetchMore:r}=e,s=Array.isArray(t)?t:t?.results;return i?s&&0!==s.length?(0,U.jsx)(eA.Z,{isAtEndOfFeed:n,itemCount:s.length,children:(0,U.jsx)(eE.default,{columnWidth:ei.yF,items:s,loadItems:()=>{l||n||r()},renderItem:e=>(0,U.jsx)(eC,{...e}),scrollContainer:()=>window,virtualize:!1})}):null:(0,U.jsx)(y.kC,{alignItems:"stretch",alignSelf:"center",justifyContent:"center",children:(0,U.jsx)(y.$j,{accessibilityLabel:a._('Loading related products', 'Label for loading spinner', 'Label for loading spinner'),show:!0})})}var eO=t(50165),eL=t(39929);let ej=void 0!==s?s:s=t(604733);function eD({pinKey:e,viewParameter:a,visualLiveSearchResourceData:t}){let n=(0,w.ZP)(),{hasSimplifiedPinGridExpLoaded:i}=(0,eO.$)(),l=(0,v.Z)(ej,e),{data:r,isFetching:s,fetchMore:o}=t,d=r?.results,u=r?.search_identifier;return(0,U.jsxs)(h.Fragment,{children:[d&&u&&(0,U.jsx)(y.Rk,{columnWidth:ei.yF,items:d,loadItems:o,minCols:1,renderItem:({data:e,itemIdx:t})=>(function({data:e,itemIdx:t}){let n=`${window.location.pathname}products/${window.location.search}&full_feed_title=${encodeURIComponent("Shop similar items")}`;return"story"===e.type?(0,U.jsx)(eL.Z,{dangerouslySetActionUrl:n,slotIndex:t,story:e}):"pin"===e.type?(0,U.jsx)(es.ZP,{auxData:{search_identifier:u,image_signature:l.imageSignature},duploQueryRef:null,pin:e,pinId:e.id,slotIndex:t,surface:"FlashlightResultGrid",viewData:{search_identifier:u},viewParameter:a,viewType:72}):null})({data:e,itemIdx:t}),scrollContainer:()=>window}),(0,U.jsx)(y.$j,{accessibilityLabel:n._('Loading search results...', 'FlashlightResultGrid.spinner', 'Accessibility label for loading visual search results'),show:s||!u||!i})]})}var eN=t(584288),eM=t(210173),eK=t(774649),eZ=t(978574),eU=t(689967),ez=t(588120),eG=t(616890);function eB({categoryFilters:e,cropSource:a,handleCategoryChange:t,viewParameter:n,viewType:i}){let{logContextEvent:l}=(0,K.v)(),r=(0,w.ZP)(),[s,o]=(0,h.useState)(!0);return(0,U.jsxs)(h.Fragment,{children:[(0,U.jsxs)(y.kC,{alignItems:"center",justifyContent:"between",children:[(0,U.jsx)(y.xv,{weight:"bold",children:r._('Product category', 'filter.category.header', 'Header of product category filter containing filter options')}),(0,U.jsx)(y.xu,{flex:"none",children:(0,U.jsx)(y.hU,{accessibilityLabel:r._('Product category', 'filter.category.button', 'accessibility label for the icon button to open or close domain filter'),icon:s?"arrow-up":"arrow-down",iconColor:"darkGray",onClick:()=>{o(!s),l({event_type:101,component:13535,element:11547,view_type:i,view_parameter:n,aux_data:{commerce_data:JSON.stringify({filter:s?"collapsed":"expanded"})}}),s||l({event_type:13,component:13535,view_type:i,view_parameter:n,aux_data:{commerce_data:JSON.stringify({source:(0,eG.Z)({cropSource:a,viewType:i})})}})},size:"sm"})})]}),s?(0,U.jsx)(h.Fragment,{children:e.slice(0,5).map((e,a)=>(0,U.jsxs)(y.xu,{alignItems:"center",direction:"row",display:"flex",marginBottom:3,children:[(0,U.jsx)(y.xu,{flex:"grow",children:(0,U.jsx)(y.xv,{children:e.label.charAt(0).toUpperCase()+e.label.slice(1)})}),(0,U.jsx)(y.xu,{children:(0,U.jsx)(y.hU,{accessibilityLabel:r._('Category Filter Option', 'filter.category.option', 'Accessibility label for radio button of category filter choices'),icon:e.checked?"check-circle":"circle",iconColor:"darkGray",onClick:()=>t(a),size:"sm"})})]},e.label))}):(0,U.jsx)(y.xu,{width:"80%",children:(0,U.jsx)(y.xv,{color:"subtle",size:"200",children:function(e=[],a){let t=e.filter(e=>e.checked),n=t.length;return 0===n?a._('All', 'filter.category.applied', 'text indicates that no categories filter is currently applied for filtering'):`(${n}) ${t.map(e=>e.label).join(", ")}`}(e,r)})})]})}var eH=t(521378);function eV(e,a){return e.filter(e=>e.checked).map(e=>e[a]).join(",")}function eW(e){return e.map(e=>({...e,checked:!1}))}function eY({listOfAvailableFiltersFromAPI:e,appliedFilterValues:a,key:t,component:n,viewType:i,viewParameter:l}){let{logContextEvent:r}=(0,K.v)(),[s,o]=(0,h.useState)([]),[d,u]=(0,h.useState)(""),[c,p]=(0,h.useState)(!1);return(0,h.useEffect)(()=>{if(e){let n=eW(e),i=a?function(e,a,t){if(e){let n=decodeURI(e).split(",");return a.map(e=>n.includes(e[t])?{...e,checked:!0}:e)}return a}(a,n,t):n;o(i),u(eV(i,t))}},[e,a,t]),{filters:s,setFilters:o,submittedFilters:d,submitFilters:function(e){e!==d&&r({event_type:7472,component:n,view_type:i,view_parameter:l}),u(e),p(!1)},isFilterChanged:c,clearFilters:()=>eW(s),getSelected:e=>eV(e,t),handleFilterChange:function({index:e,pinId:a,auxCommerceData:u}){let c=!s[e].checked,g=[...s.slice(0,e),{...s[e],checked:c},...s.slice(e+1)];o(g),p(d!==eV(g,t)),r({event_type:101,component:n,element:11548,view_type:i,view_parameter:l,aux_data:{pin_id:a,commerce_data:JSON.stringify({[t]:s[e][t],select:c,...u})}})}}}function e$({categoryFilters:e,cropSource:a,domainFilters:t,drawerHeight:n,handleFilterChange:i,onSubmit:l,pinId:r,priceFilters:s,submittedFilters:o,updateButtonText:d,width:u,viewParameter:c,viewType:p}){let{logContextEvent:g}=(0,K.v)(),m=(0,w.ZP)();(0,eb.Z)(()=>{g({event_type:13,component:13467,view_type:p,view_parameter:c,aux_data:{commerce_data:JSON.stringify({source:(0,eG.Z)({cropSource:a,viewType:p})})}})});let{category:_,domain:f,max:v,min:S}=o||{},{filters:x,setFilters:b,submittedFilters:P,submitFilters:k,isFilterChanged:T,clearFilters:I,getSelected:E,handleFilterChange:A}=eY({listOfAvailableFiltersFromAPI:t,appliedFilterValues:f,key:"domain",component:13469,viewType:p,viewParameter:c}),{filters:F,setFilters:C,submittedFilters:R,submitFilters:O,isFilterChanged:L,clearFilters:j,getSelected:D,handleFilterChange:N}=eY({listOfAvailableFiltersFromAPI:e,appliedFilterValues:_,key:"label",component:13535,viewType:p,viewParameter:c}),[M,Z]=(0,h.useState)(s),[z,G]=(0,h.useState)(-1),[B,H]=(0,h.useState)(-1),[V,W]=(0,h.useState)(-1),[Y,$]=(0,h.useState)(-1),[Q,q]=(0,h.useState)(!1);(0,h.useEffect)(()=>{if(!s||v&&S||Z(s),S){let e=parseInt(S,10);$(e),H(e)}else H(s?.min_value??-1),$(s?.min_value??-1);if(v){let e=parseInt(v,10);W(e),G(e)}else G(s?.max_value??-1),W(s?.max_value??-1)},[s,v,S]);let{max_value:J,min_value:X,currency_type:ee}=M||{},ea=e=>a=>{let t,n;let i=0>(a||0)?0:a;i&&g({event_type:7472,component:13468,view_type:p,view_parameter:c});let l=!1;"max"===e?(t=i||J,-1===(n=B)&&(n=X),n>t&&(n=Math.max(t-eZ.$,0))):(n=i||0,-1===(t=z)&&(t=J),t<n&&(t=n+eZ.$)),q(l=l||Y!==n||V!==t),H(n),G(t)};(0,h.useEffect)(()=>{d&&d(function({categoryFilters:e,domainFilters:a,minPrice:t,maxPrice:n},i){let l=i._('Filters', 'Filter icon button to open drawer containing price filter and domain filters on related products feed', 'Filter icon button to open drawer containing price filter and domain filters on related products feed'),r=function({categoryFilters:e,domainFilters:a,minPrice:t,maxPrice:n}){return(n||t?1:0)+(a?a.split(",").length:0)+(e?e.split(",").length:0)}({categoryFilters:e,domainFilters:a,minPrice:t,maxPrice:n}),s=r>0?` (${r})`:"";return`${l}${s}`}({categoryFilters:R,domainFilters:P,maxPrice:-1===V||V===J?void 0:V,minPrice:-1===Y||Y===X?void 0:Y},m))},[m,V,Y,R,P,d,J,X]);let et=({categoryParam:e,domainParam:a,maxPrice:t,minPrice:n})=>{i({categoryParam:e,domainParam:a,maxPrice:-1!==t?t:void 0,minPrice:-1!==n?n:void 0}),W(t),$(n),q(!1),(V!==t||Y!==n)&&g({event_type:7472,component:13468,view_type:p,view_parameter:c}),k(a),O(e);let r=-1!==t,s=""!==a,o=""!==e,d=-1!==n?n.toString():"",u=r?t.toString():"",m=s?encodeURI(a):"",h=o?encodeURI(e):"";l&&l({category:h,domain:m,max:u,min:d})};return(0,U.jsxs)(h.Fragment,{children:[(0,U.jsxs)(y.xu,{direction:"column",display:"flex",height:n-50-70,overflow:"scroll",paddingX:1,paddingY:1,width:"100%",children:[(0,U.jsxs)(y.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:3,children:[(0,U.jsx)(y.xv,{weight:"bold",children:m._('Filter', 'shopping.filter.header', 'Header for the types of filters')}),(0,U.jsx)(y.zx,{onClick:()=>{G(-1),H(-1),b(I()),C(j()),et({categoryParam:"",domainParam:"",maxPrice:-1,minPrice:-1}),g({event_type:101,component:13467,element:11545,view_type:p,view_parameter:c})},size:"md",text:m._('Clear all', 'filter.clear.button', 'Button to clear all set filters on product group filters')})]}),!!M&&-1!==B&&-1!==z&&(0,U.jsx)(eH.Z,{children:(0,U.jsx)(ez.Z,{cropSource:a,currencyCode:ee,defaultMaxPrice:J,defaultMinPrice:X,disableAutoFormatOnChange:!0,handleMaxPriceChange:ea("max"),handleMinPriceChange:ea("min"),maxPrice:z,minPrice:B,uiType:"slider",viewParameter:c,viewType:p})}),!!F&&F.length>0&&4!==a&&(0,U.jsx)(eH.Z,{children:(0,U.jsx)(eB,{categoryFilters:F,cropSource:a,handleCategoryChange:e=>{N({index:e,pinId:r})},viewParameter:c,viewType:p})}),!!x&&x.length>0&&(0,U.jsx)(eH.Z,{children:(0,U.jsx)(eU.Z,{cropSource:a,filterOptions:x,handleFilterChange:e=>{A({index:e,pinId:r,auxCommerceData:{source:(0,eG.Z)({cropSource:a,viewType:p})}})},showVerifiedMerchants:!0,uiType:"check-circles",viewParameter:c,viewType:p})})]}),(0,U.jsx)(y.xu,{color:"default",display:"flex",justifyContent:"center",position:"fixed",width:u,children:(0,U.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},direction:"row",display:"flex",paddingY:2,children:(0,U.jsx)(y.xu,{marginStart:2,children:(0,U.jsx)(y.sg,{span:6,children:(0,U.jsx)(y.zx,{color:"red",dataTestId:"confirm-filters-button",disabled:!(T||L||Q),onClick:()=>{let e=E(x);et({categoryParam:D(F),domainParam:e,maxPrice:z,minPrice:B}),g({event_type:101,component:13467,element:11546,view_type:p,view_parameter:c})},size:"md",text:m._('Apply', 'filter.apply.button', 'Button to submit all selected filter options'),type:"submit"})})})})})]})}function eQ({categoryFilters:e,cropSource:a,domainFilters:t,isDrawerOpen:n,handleFilterChange:i,handleSubmit:l,pinId:r,priceFilters:s,submittedFilters:o,topOffset:d=0,updateButtonText:u,viewParameter:c=3455,viewType:p}){let g=(0,eN.t)(),[m,_]=(0,h.useState)(0),f=()=>{_(window.innerHeight-g)};return(0,h.useEffect)(()=>(f(),window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}),[]),(0,U.jsx)(y.xu,{color:"default",dangerouslySetInlineStyle:{__style:{marginRight:n?0:-eK.pG,visibility:n?"visible":"hidden",top:g+d}},height:m,left:!0,paddingX:eK.VF,position:"fixed",width:eK.pG,zIndex:new y.Ry(2),children:(0,U.jsx)(e$,{categoryFilters:e,cropSource:a,domainFilters:t,drawerHeight:m,handleFilterChange:i,onSubmit:l,pinId:r,priceFilters:s,submittedFilters:o,updateButtonText:u,viewParameter:c,viewType:p,width:eK.pG-eK.VF*eK.vc*2})})}let eq=void 0!==o?o:o=t(187962);function eJ(e){let{checkExperiment:a}=(0,x.F)(),t=(0,_.k6)(),n=(0,_.TH)(),i=(0,w.ZP)(),{width:l=0}=(0,ev.Z)()||{},r=(0,D.Z)(),{imageContainerScrollTop:s,imageContainerScrollTopForPinId:o}=(0,ef.t)(),{filters:d,oneBarModules:u,pinKey:c,visualSearchFlashlightUnifiedResourceData:p,visualLiveSearchResourceData:g,visualLiveSearchProductFeedResourceData:m}=e,{cropArea:f,cropSource:S,entrySource:b,handleFilterChange:P,isProductPage:k,requestParams:T,searchQuery:I,submittedFilters:E,surfaceType:C,title:R,trafficSource:O}=r,{category_filters:L,domain_filters:j,price_filters:N}=d||{},K=(0,v.Z)(eq,c),{getNormalizedPinImage:Z}=(0,A.Z)({pinKey:K,maxWidth:F.RZ}),z=["stela","stl"].includes(C),{anyEnabled:G}=a("web_unified_visual_feed"),{anyEnabled:B}=a("web_flashlight_unified_feed"),{anyEnabled:H}=a("web_unified_visual_features_expansion"),V=function({cropSource:e,i18n:a,inFlashlightUFExperiment:t,inStelaUFExperiment:n,inUnifiedVisualFeaturesExpansion:i,isProductPage:l,surfaceType:r,title:s}){let o=a._('Image search', 'imageSearch.header', 'header explaining the results of image search'),d=a._('Shop the look', 'shopTheLook.header', 'User will see this Shop the look header when navigating from the Shop the look module'),u=(0,eP.nk)(a._('Shop {{ category }}', 'relatedProducts.stela.header', 'header for related products stela feed'),{category:(s||"").toLowerCase()}).join(""),c=[4,9].includes(e);if(l)return s;if("stl"===r)return c?d:o;let p=t&&"flashlight"===r,g=n&&["stela","stl"].includes(r);return i||p||g?c?"":o:c?u:o}({cropSource:S,i18n:i,inFlashlightUFExperiment:B,inStelaUFExperiment:G,inUnifiedVisualFeaturesExpansion:H,isProductPage:k,surfaceType:C,title:R}),[W,$]=(0,h.useState)(!1),[Q,q]=(0,h.useState)(""),ee=(0,X.Z)(d),{state:ea}=n||{},{internalNavigation:et=!1}=ea||{},{width:en,height:el,url:er}=Z(),es=en+M.n,eo=W?0:12,ed=(0,eN.t)(),eu=(0,eM.Z)(),ec=W?eK.pG:0,ep=k?0:es+4*eo,eg=!k&&G&&"stela"===C,em=!k&&B&&"flashlight"===C,eh=l-eu-ec-ep-M.n,e_=p?.data?.search_identifier||g?.data?.search_identifier||m?.data?.search_identifier||"",[eE,eA]=(0,h.useState)(e_);(0,h.useEffect)(()=>{e_&&eE!==e_&&eA(e_)},[e_,eE]);let eF=(0,h.useRef)(null);(0,eb.Z)(()=>{eF.current&&0!==s.current&&o.current===K.entityId&&(eF.current.scrollTop=s.current)});let eC=z?427:"flashlight"===C?B&&k?427:72:427,eO=z?4===S?3462:3455:"flashlight"===C?B&&4===S?3462:3050:3462,eL=function({entrySource:e,isProductPage:a,pinKey:t,surfaceType:n,viewParameter:i,viewType:l}){let{checkExperiment:r}=(0,x.F)(),{anyEnabled:s}=r("web_unified_visual_feed"),{anyEnabled:o}=r("web_flashlight_unified_feed"),d=(0,v.Z)(eI,t),u=(0,eT.Z)(d)({default:{is_product_only_feed:"stl"===n||a}});if(s||o)return{view_type:l,view_parameter:i,aux_data:u};if(!["stela","stl"].includes(n))return{view_type:l,view_parameter:3050,view_data:{pin_id:d.entityId}};{let a=(d.visualObjects||[]).some(e=>e.isStela);return{view_type:l,view_parameter:i,view_data:{pin_id:d.entityId},aux_data:{commerce_data:JSON.stringify({entrypoint:e,pin_is_stela:a})}}}}({entrySource:b,isProductPage:k,pinKey:K,surfaceType:C,viewParameter:eO,viewType:eC});return(0,U.jsx)(ew.Z,{constraints:function({isProductPage:e,isStl:a,isUnifiedFeed:t}){return e?[]:!t||a?["visualSearchMainPinImageRender"]:t?["shoppingModuleRender","visualSearchMainPinImageRender"]:[]}({isProductPage:k,isStl:"stl"===C,isUnifiedFeed:B||G||H}),measureGridVisuallyComplete:!0,surface:"visual_search",children:(0,U.jsx)(ex.Z,{objectId:eE,view:eC,children:(0,U.jsx)(eS.Z,{log:eL,children:(0,U.jsxs)(y.xu,{"data-test-id":"related-products",children:[(0,U.jsx)(Y,{filtersText:Q,handleDrawerClose:function(){$(!1)},handleDrawerOpen:function(){$(!0)},isDrawerOpen:W,isProductOnlyFeed:k,pinId:K.entityId,showFilter:!(eg||em)&&z&&ee,title:V,viewParameter:eO,viewType:eC}),ee&&(0,U.jsx)(eQ,{categoryFilters:L,cropSource:S,domainFilters:j,handleFilterChange:P??(()=>{}),handleSubmit:function(){let e=(0,ek.Z)({cropArea:f,cropSource:S,isProductPage:k,pinId:K.entityId,requestParams:T,searchQuery:I,surfaceType:C,title:R,trafficSource:O});t.replace(e)},isDrawerOpen:W,pinId:K.entityId,priceFilters:N,submittedFilters:E,topOffset:60,updateButtonText:e=>{q(e)},viewParameter:eO,viewType:eC}),!k&&(0,U.jsx)(y.xu,{ref:eF,bottom:!0,dangerouslySetInlineStyle:{__style:{top:ed+92,left:eu+ec,right:eu+ec}},height:"inherit",marginBottom:3,marginStart:eo,onScroll:()=>{s.current=eF.current?.scrollTop||0,o.current=K.entityId},overflow:"auto",position:"fixed",width:es,children:(0,U.jsx)(J,{cropArea:f,description:K.description??"",height:el,imageSignature:K.imageSignature||"",imageUrl:er,pinId:K.entityId,pinKey:K,requestParams:T,showAnimation:!et&&"flashlight"===C,surfaceType:C,trafficSource:O,viewParameter:eO,width:en})}),(0,U.jsxs)(y.xu,{dangerouslySetInlineStyle:{__style:{top:92,left:ec+ep,right:ec+ep}},paddingX:ei.jC,position:"relative",width:eh,children:[p&&(0,U.jsx)(ey,{isFilterOpened:W,isProductOnlyFeed:k,oneBarModules:u,pinKey:K,surfaceType:C,viewParameter:eO,viewType:eC,visualSearchFlashlightUnifiedResource:p}),!B&&g&&(0,U.jsx)(eD,{pinKey:K,viewParameter:eO,visualLiveSearchResourceData:g}),!B&&m&&(0,U.jsx)(eR,{visualLiveSearchProductFeedResourceData:m})]})]})})})})}let eX=void 0!==d?d:d=t(574554);function e0(e){let{legacySearchId:a,pinKey:t,resourceOptions:n,setLegacySearchId:i}=e,l=(0,v.Z)(eX,t),r=(0,N.Z)({name:"VisualLiveSearchProductFeedResource",options:n}),s=r.data?.search_identifier||"";return(0,h.useEffect)(()=>{i&&s&&a!==s&&i(s)}),(0,U.jsx)(eJ,{pinKey:l,visualLiveSearchProductFeedResourceData:r})}let e1=void 0!==u?u:u=t(941845);function e4(e){let{legacySearchId:a,pinKey:t,resourceOptions:n,setLegacySearchId:i}=e,l=(0,v.Z)(e1,t),r=(0,N.Z)({name:"VisualLiveSearchResource",options:n}),s=r.data?.search_identifier||"";return(0,h.useEffect)(()=>{i&&s&&a!==s&&i(s)}),(0,U.jsx)(eJ,{pinKey:l,visualLiveSearchResourceData:r})}var e6=t(934209);let e2=void 0!==c?c:c=t(376194);function e7(e){let{pinKey:a,resourceOptions:t}=e,n=(0,v.Z)(e2,a),{visualSearchFlashlightUnifiedResource:i,filters:l,oneBarModules:r}=(0,e6.Z)({resourceOptions:t});return(0,U.jsx)(eJ,{filters:l,oneBarModules:r,pinKey:n,visualSearchFlashlightUnifiedResourceData:i})}let e3=void 0!==p?p:p=t(383855);function e8({pinKey:e}){let{checkExperiment:a}=(0,x.F)(),t=(0,_.TH)(),n=(0,v.Z)(e3,e),{getInitialCropArea:i}=function({pinKey:e}){let a=(0,v.Z)(C,e),{getNormalizedPinImage:t}=(0,A.Z)({pinKey:a,maxWidth:F.RZ}),{width:n,height:i}=t();return{getInitialCropArea:(0,h.useCallback)(({initialCropArea:e})=>e||{x:E.SP,y:E.SP,w:n-2*E.SP,h:i-2*E.SP},[i,n])}}({pinKey:n}),{getNormalizedPinImage:l}=(0,A.Z)({pinKey:n,maxWidth:F.RZ}),{width:r,height:s}=l(),o=a("web_unified_visual_feed").anyEnabled||a("web_unified_visual_features_expansion").anyEnabled,d=a("web_flashlight_unified_feed").anyEnabled||a("web_unified_visual_features_expansion").anyEnabled,u=(0,R.mB)(t.search),{cropSource:c,filters:p,full_feed_title:g,hybrid_search_param:m,journey_depth:y,search_query:f,source_module_id:S,surfaceType:w,category:b,domain:P,max:k,min:T,q:N,requestParams:M,rs:K}=u,Z=u.entrypoint||null,z=(0,O.Z)(Number(c))||5,G=i({initialCropArea:(0,I.Z)(t,r,s)}),B=t.pathname.includes("/products"),H=w||"flashlight",V=B||"stl"===H?"shopping":"flashlight";Z||(Z=(0,L.Z)({cropSource:z,isProductPage:B,surfaceType:H}));let[W,Y]=(0,h.useState)(parseInt(T,10)||null),[$,Q]=(0,h.useState)(parseInt(k,10)||null),[q,J]=(0,h.useState)(P?decodeURI(P):null),[X,ee]=(0,h.useState)(b?decodeURI(b):null);function ea({minPrice:e,maxPrice:a,domainParam:t,categoryParam:n}){Y(e),Q(a),J(t),ee(n)}let et={categories:X,crop:(0,j.Z)({cropArea:G,scaledWidth:r,scaledHeight:s}),crop_source:z,domains:q,entry_source:V,entrypoint:Z,field_set_key:"shopping_grid_item",filters:p,hybrid_search_param:m,image_signature:n.imageSignature||void 0,is_shopping:function({cropSource:e,inStelaUFExperiment:a,isProductPage:t,surfaceType:n}){return!!t||4===e&&("stl"===n||"stela"===n&&!a)}({cropSource:z,inStelaUFExperiment:o,isProductPage:B,surfaceType:H}),journey_depth:parseInt(y,10)||void 0,pin_id:n.entityId,price_max:$,price_min:W,request_params:M,search_query:f,source:K,source_module_id:S},en=(0,h.useMemo)(()=>({cropArea:G,cropSource:z,entrySource:V,handleFilterChange:ea,isProductPage:B,requestParams:M,searchQuery:N,submittedFilters:{category:b,domain:P,max:k,min:T},surfaceType:H,title:g,trafficSource:K}),[b,G,z,P,V,B,k,T,M,N,H,g,K]);if(!n)return null;let ei="flashlight"!==H||d?(0,U.jsx)(e7,{pinKey:n,resourceOptions:et}):B?(0,U.jsx)(e0,{pinKey:n,resourceOptions:et}):(0,U.jsx)(e4,{pinKey:n,resourceOptions:et});return(0,U.jsx)(D.V,{value:en,children:ei})}let e9=void 0!==g?g:g=t(761650),e5=void 0!==m?m:m=t(4738);function ae({pinId:e,relatedProductsDataRef:a}){let{checkExperiment:t}=(0,x.F)(),n=(0,w.ZP)(),i=t("auth_dweb_graphql_closeup_shop_pinResource").anyEnabled,l=(0,S.Z)({strategy:i?"GRAPHQL":"LEGACY",query:e9,variables:{pinId:e},useGetLegacyData:()=>{let{data:e}=(0,b.Z)(a);return e}}),r=l?.v3GetPinQuery?.__typename==="V3GetPin"?l.v3GetPinQuery.data:null,s=(0,v.Z)(e5,r);return(0,U.jsx)(h.Suspense,{fallback:(0,U.jsx)(y.$j,{accessibilityLabel:n._('Loading Pin data', 'RelatedProductsPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0}),children:s&&(0,U.jsx)(e8,{pinKey:s})})}function aa(){let e=(0,_.$B)(),{pinId:a}=(0,k.Z)(e.params.id||""),t=(0,P.Z)({name:"PinResource",options:{id:a,field_set_key:"detailed",fetch_visual_search_objects:!0}});return(0,U.jsx)(f.Z,{name:"RelatedProductsPage_RelatedProductsPageWrapper",children:(0,U.jsx)(h.Suspense,{fallback:(0,U.jsx)(T.Z,{}),children:(0,U.jsx)(ae,{pinId:a,relatedProductsDataRef:t})})})}},402151:(e,a,t)=>{t.d(a,{KF:()=>u,ZN:()=>s,fv:()=>d,kE:()=>p,yA:()=>o});var n=t(252071),i=t(400416),l=t(900492);function r(e,a,t,i){return n.Z.create("UserFollowResource",{user_id:e,invite_code:i||void 0,aux_data:a?{pin_id:a}:void 0,client_tracking_params:t})}function s(e,a=null,t,n){return i=>{r(e,a,t,n).callCreate().catch(()=>i((0,l.P_)(e,!1))),i((0,l.P_)(e,!0))}}function o(e,a=null,t,n){return async i=>{i((0,l.P_)(e,!0)),await r(e,a,t,n).callCreate().catch(a=>{throw i((0,l.P_)(e,!1)),a})}}function d(e,a=null,t){return n=>{r(e,a,t).callDelete().catch(()=>n((0,l.P_)(e,!0))),n((0,l.P_)(e,!1))}}function u(e,a=null,t){return async n=>{n((0,l.P_)(e,!1)),await r(e,a,t).callDelete().catch(a=>{throw n((0,l.P_)(e,!0)),a})}}let c=(e,a)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:a}}),p=e=>a=>{e.length>0&&((0,i.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch(()=>a(c(e,!1))),a(c(e,!0)))}},919122:(e,a,t)=>{t.d(a,{Z:()=>y});var n=t(545007),i=t(616550),l=t(883119),r=t(609326),s=t(488792),o=t(477058),d=t(793874),u=t(144326),c=t(282999),p=t(864723),g=t(1006),m=t(154785),h=t(410150),_=t(785893);function y({alignIconLeft:e,bgColor:a,color:t,disableRedirect:y=!1,fallbackUrl:f,icon:v="arrow-back",onTouch:S,padding:w,placement:x,shouldUseFallbackUrl:b,size:P="lg",viewParameter:k,viewType:T,isVisualSearch:I}){let E=(0,u.ZP)(),A=(0,i.k6)(),F=(0,i.TH)(),C=(0,h.HG)(),R=(0,n.v9)(e=>e.session.isAuthenticated),O=(0,s.Z)(),L=(0,m.Z)(),j=(0,d.vs)(),{viewType:D,viewParameter:N}=(0,o.SU)(),[M,K]=T?[T,k]:[D,N],Z=()=>F.search&&F.search.includes("?nativeShouldDismiss=true"),U=()=>{let e=p.ZP.getItem(r.pm);F.key||"/ideas"!==f?(0,g.My)(`pinner_conversion.back_button.${String(e?.[0].pageType)}`):(0,g.My)("pinner_conversion.back_button.no_history"),(0,g.My)(`web_back_button_click.${String(x)}.is_auth_${String(R)}`),L({action:"click",item:"back-button"}),M&&O({view_type:M,view_parameter:K,element:34,event_type:102}),S&&S(),y||((!F.key||F.state&&"redirect"===F.state.referrer||b)&&f?A.push(f):F.pathname.includes("/password/reset/")&&Z()?A.push("/login/?dismissWebview=true"):A.goBack())},z=j?d.t4:"white",G=(0,c.am)(F)||I||"white"===t;return(0,_.jsx)(l.xu,{"data-test-id":"back-button",children:e?(0,_.jsx)(l.xu,{alignItems:"center",display:"flex",height:48,marginStart:"cancel"===v?-1:-2,width:48,children:(0,_.jsx)(l.hU,{accessibilityLabel:E._('Back', 'navigation button', 'navigation button'),bgColor:a,icon:v,iconColor:!t&&(!a||["white","lightGray","transparent"].includes(a))?"gray":t,onClick:U,padding:"auto"!==w?w:2,size:P})}):(0,_.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:C||G?"":z,width:j&&!G?"fit-content":""}},rounding:"circle",children:(0,_.jsx)(l.hU,{accessibilityLabel:E._('Back', 'navigation button', 'navigation button'),bgColor:a||C?a:"transparent",icon:v,iconColor:!t&&(!a||["white","lightGray","transparent"].includes(a))?"gray":t,onClick:U,padding:"auto"!==w?w:2,size:P})})})}},521378:(e,a,t)=>{t.d(a,{Z:()=>l});var n=t(883119),i=t(785893);function l({children:e}){return(0,i.jsx)(n.xu,{paddingY:4,children:e})}},774649:(e,a,t)=>{t.d(a,{VF:()=>i,pG:()=>n,vc:()=>l});let n=348,i=7,l=4},310368:(e,a,t)=>{t.d(a,{Z:()=>u});var n=t(883119),i=t(476198),l=t(144326),r=t(961754),s=t(410150),o=t(785893);function d({ideaPinImages:e}){let a=e.map((e,a)=>(0,o.jsx)(n.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:a}},height:48,overflow:"hidden",rounding:2,width:28,children:(0,o.jsx)(n.Ee,{alt:"",color:"#696969",fit:"cover",naturalHeight:e?.height??1,naturalWidth:e?.width??1,src:e?.url??""})},a));return(0,o.jsx)(n.kC,{justifyContent:"center",children:(0,o.jsx)(n.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[e.length],children:a})})}function u({handleHide:e,text:a,userId:t,href:u,imageUrl:c}){let p=(0,l.ZP)(),g=(0,s.HG)(),m=(0,r.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:t}}),h=Array.isArray(a)?a.join(" "):a;if(0===(m.data||[]).length)return(0,o.jsx)(i.ZP,{duration:5e3,href:u,onHide:e,text:h,thumbnail:c?{image:(0,o.jsx)(n.Ee,{alt:p._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:c})}:void 0});let _=(m.data||[]).slice(0,3).map(e=>e.images?.[g?"236x":"170x"]),y=(0,o.jsx)(d,{ideaPinImages:_});return(0,o.jsx)(i.ZP,{_dangerouslySetThumbnail:y,duration:5e3,href:u,onHide:e,text:h})}},748327:(e,a,t)=>{function n(e){let[a,t]=e.split(/\/(.*)+/);return{filepath:t||"",site:a||""}}function i(e,a){return a?`${e||""}/${a}`:`/${e||""}`}t.d(a,{ac:()=>n,ke:()=>i})},855746:(e,a,t)=>{t.d(a,{MM:()=>r,uo:()=>s,wH:()=>l});var n=t(498490),i=t(748327);let{Provider:l,useHook:r}=(0,n.Z)("HandlerId");function s(){let e=r();return(0,i.ac)(e).site}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/64831-fe993278dd9a4bcf.mjs.map