"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[28282],{654556:(e,t,i)=>{i.d(t,{Z:()=>s});var o=i(333733),r=i(727976),l=i(785893);function s({alignCenter:e,appUpsellFooterConfig:t,footerInLego:i,hasTopShadow:s,navFooterConfig:n,...d}){return(0,l.jsx)(r.Z,{appUpsellFooterConfig:t,hideOnScroll:d.hideOnScroll,navFooterConfig:n?.scrollConfig,children:r=>(0,l.jsx)(o.Z,{...d,footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:i,hasTopShadow:s,navFooterConfig:n},hideOnScrollState:r,type:"footer"})})}},834047:(e,t,i)=>{i.d(t,{Z:()=>o});function o(e,t){let i;if(e.error){let{httpStatus:o,api_error_code:r,redirectUrl:l}=e.error;(404===o||401===o&&7===r)&&(i={pathname:t?"/ideas/":"/",state:{showError:!0}}),301===o&&l&&(i={pathname:l})}return i}},931397:(e,t,i)=>{i.d(t,{Z:()=>l});var o=i(809833),r=i(174044);function l(e){let{enabledRouteRefresh:t,headers:i,name:l,noCache:s,options:n,schema:d}=e??{name:o.fY,options:null},a=!e,{fetchResource:c,ref:_}=(0,r.Z)({enabledRouteRefresh:t,headers:i,name:l,noCache:s,options:n,schema:d},a,!1);return a||c(),_}},615529:(e,t,i)=>{i.d(t,{Z:()=>d});var o=i(616550),r=i(282999),l=i(834047),s=i(961754),n=i(383399);function d(e){let t=(0,o.k6)(),i=(0,o.TH)(),{isAuth:d}=(0,n.Z)(),a=!d&&(0,r.L6)(i),c=(0,s.Z)(e),_=(0,l.Z)(c,a);return _&&t.replace(_.pathname,_.state),c}},899850:(e,t,i)=>{i.d(t,{G:()=>n,Z:()=>d});var o=i(667294),r=i(616550),l=i(785893);let s=(0,o.createContext)(!0);function n({children:e}){let t=(0,r.TH)(),[i,n]=(0,o.useState)(!0),d=(0,o.useRef)(t);return(0,o.useEffect)(()=>{d.current!==t&&(d.current=t,n(!1))},[t]),(0,l.jsx)(s.Provider,{value:i,children:e})}function d(){return(0,o.useContext)(s)}},41051:(e,t,i)=>{i.d(t,{Z:()=>c});var o=i(883119),r=i(144326),l=i(94757),s=i(775383),n=i(206797),d=i(919122),a=i(785893);function c(e){let t=(0,r.ZP)(),{backButtonIcon:i,errorMessage:c,name:_,onNextButtonTouch:u,onNameChange:h,selectedPinIds:p=[],useRoundedCorners:x}=e,b=p.length>0?130:64;return(0,a.jsxs)(s.default,{hasFixedHeader:!0,children:[(0,a.jsxs)(l.default,{height:b,paddingY:3,useRoundedCorners:x,children:[(0,a.jsxs)(o.kC,{alignItems:"center",justifyContent:"between",children:[(0,a.jsx)(d.Z,{color:"darkGray",icon:i||"cancel",padding:3,size:"sm"}),(0,a.jsx)(o.X6,{accessibilityLevel:1,size:"300",children:t._('Add section', 'for add board section page', 'for add board section page')}),(0,a.jsx)(o.xu,{"data-test-id":"create-section-button",children:(0,a.jsx)(o.zx,{accessibilityLabel:t._('Add', 'boardSectionCreate.Add.Button.Text', 'Add button accessibility label for board section create page'),color:"red",disabled:""===_.trim(),onClick:u,size:"lg",text:t._('Next', 'Next button for board section create page', 'Next button for board section create page')})})]}),p&&(0,a.jsx)(n.Z,{selectedPinIds:p})]}),(0,a.jsx)(o.xu,{"data-test-id":"addSectionName",paddingX:2,paddingY:3,children:(0,a.jsx)(o.nv,{errorMessage:c||"",id:"section-name-input",label:t._('Name', 'boardSectionCreate.TextField.Name.Label', 'TextField label to Name on BoardSectionCreate'),onChange:e=>h(e.event),size:"lg",value:_})})]})}},3606:(e,t,i)=>{i.d(t,{Z:()=>x});var o=i(667294),r=i(545007),l=i(883119),s=i(144326),n=i(615529),d=i(383399),a=i(640954),c=i(497816),_=i(891487),u=i(971618),h=i(785893);let p=()=>{let{id:e}=(0,d.Z)();return(0,n.Z)({name:"BoardPickerBoardsResource",options:{field_set_key:"board_picker",user_id:e}}),(0,r.v9)(e=>(0,c.Z)(e)||[])};function x({excludeBoardId:e,hideSectionPickerList:t,onRepin:i}){let r=(0,s.ZP)(),n=p(),[d,c]=(0,o.useState)(null),x=(e,o)=>{if(!t&&e&&o){c(o);return}i(o)};return n.length>0&&(d&&!t?(0,h.jsx)(u.Z,{boardId:d?.id,repin:(e,t)=>{d&&i(d,t)},showSectionRep:!0}):(0,h.jsxs)(l.xu,{"data-test-id":"board-picker-row-container",children:[(0,h.jsx)(l.xu,{marginTop:3,children:(0,h.jsx)(l.xv,{children:r._('All boards', 'title for board picker all boards section', 'title for board picker all boards section')})}),(0,h.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:`${a.T}px`}},paddingY:3,children:n.filter(t=>t.id!==e).map(e=>(0,h.jsx)(_.Z,{boardId:e.id,onBoardSelected:t=>x(t,e)},e.id))})]}))}},284671:(e,t,i)=>{i.d(t,{Wx:()=>w,ZP:()=>z});var o=i(667294),r=i(545007),l=i(616550),s=i(883119),n=i(476198),d=i(144326),a=i(654556),c=i(94757),_=i(775383),u=i(901450),h=i(640954),p=i(3606),x=i(206797),b=i(410287),g=i(782677),f=i(252071),m=i(338623),j=i(517989);let P=e=>t=>{let{source:i,target:o,pinIds:r}=e;if(t({type:"PINS_MOVE",payload:e}),i.boardlessPins||o.boardId!==i.boardId){let e={board_id:o.boardId,pin_ids:r,section_id:o.sectionId};return f.Z.create("BulkEditResource",e).callUpdate()}if(o.sectionId){let e={section_id:o.sectionId,pins:r},i="BoardSectionEditResource";return f.Z.create(i,e).callUpdate().then(o=>{let r=(0,g.Fv)(o.resource_response.data,j.Z[i]);return t((0,m.XM)(i,e,o,r)),o})}let l={section_id:i.sectionId,pins:r};return f.Z.create("BoardSectionPinsResource",l).callDelete()};var A=i(988860),S=i(919122),y=i(971618),v=i(785893);function Z(e,t,i){return e?i._('Got it! Hang tight while we move all those Pins...', 'Toast message for bulk pins move.', 'Toast message for bulk pins move.'):t?i._('Saved to section!', ' - ', ' -- '):i._('Saved to board!', ' - ', ' -- ')}function w({onAddNewSection:e,useIconWithBackground:t}){let i=(0,d.ZP)();return(0,v.jsx)(a.Z,{alignCenter:t,height:t?h.y:h.T,children:(0,v.jsx)(b.Z,{onTouch:e,pressState:"none",children:(0,v.jsxs)(s.xu,{alignItems:"center","data-test-id":"addSectionButton",display:"flex",padding:t?0:1,children:[t?(0,v.jsx)(s.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},rounding:2,children:(0,v.jsx)(s.JO,{accessibilityLabel:i._('Create board button', 'RepinSection.CreateBoard.Button', 'accessibility label for create board button'),color:"default",icon:"add",size:20})}):(0,v.jsx)(s.JO,{accessibilityLabel:i._('Add section button', ' - ', ' -- '),color:"error",icon:"add-circle",size:38}),t?(0,v.jsx)(s.xu,{marginStart:2,children:(0,v.jsx)(s.xv,{size:"400",weight:"bold",children:i._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})}):(0,v.jsx)(s.xu,{marginStart:3,children:(0,v.jsx)(s.xv,{weight:"bold",children:i._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})})]})})})}class I extends o.PureComponent{constructor(...e){var t,i,o;super(...e),t="onRepinToBoard",i=e=>{e.section_count?this.props.onRepinToBoardWithSections(e):this.props.repinToOtherBoard(e.id,this.props.i18n)},(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:String(o))in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}render(){let{boardId:e,boardSectionId:t,orginalBoardId:i,onAddNewSection:o,repin:r,hideBoardPickerRow:l,selectedPinIds:n,isCollaborative:d}=this.props,a=i===e;return(0,v.jsxs)(_.default,{hasFixedHeader:!0,children:[(0,v.jsxs)(c.default,{hasBorder:!0,height:140,children:[(0,v.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,v.jsx)(s.xu,{column:2,children:(0,v.jsx)(S.Z,{})}),(0,v.jsx)(s.xu,{column:8,children:(0,v.jsx)(s.X6,{accessibilityLevel:1,align:"center",size:"300",children:this.props.i18n._('Choose section', 'title for section selection in repin flow', 'title for section selection in repin flow')})}),(0,v.jsx)(s.xu,{column:2})]}),(0,v.jsx)(x.Z,{selectedPinIds:n})]}),e&&(0,v.jsx)(y.Z,{boardId:e,hideBoardPickerRow:a&&l,originalBoardId:i,repin:r,sectionId:t}),a&&(0,v.jsxs)(s.xu,{children:[!d&&(0,v.jsx)(p.Z,{excludeBoardId:e,hideSectionPickerList:!0,onRepin:this.onRepinToBoard}),(0,v.jsx)(w,{onAddNewSection:o})]})]})}}let z=function(e){let{inSelectAll:t,pinIds:i,orginalBoardId:o,boardSectionId:s,onRefreshBoardSection:a,url:c}=e,{showToast:_}=(0,u.F9)(),h=(0,d.ZP)(),p=(0,l.k6)(),x=(0,r.I0)(),b=async(e,r,l)=>{let d=r&&r.id,u={boardId:o,sectionId:s},h={boardId:e,sectionId:d},b=t?(0,A.Z)({source:u,target:h,excludePinIds:i}):P({source:u,target:h,pinIds:i});o!==e?(await x(b),p.push({pathname:c})):(await x(b),a&&await a()),_(({hideToast:e})=>(0,v.jsx)(n.ZP,{onHide:e,text:Z(t,d,l)}))},g=async(e,r)=>{let l={boardId:o,sectionId:s},d={boardId:e,sectionId:void 0};_(({hideToast:e})=>(0,v.jsx)(n.ZP,{onHide:e,text:Z(t,void 0,r)})),await x(t?(0,A.Z)({source:l,target:d,excludePinIds:i}):P({source:l,target:d,pinIds:i})),p.go(-2)};return(0,v.jsx)(I,{...e,i18n:h,repin:b,repinToOtherBoard:g})}},206797:(e,t,i)=>{i.d(t,{Z:()=>d});var o=i(667294),r=i(883119),l=i(144326),s=i(66560),n=i(785893);function d({selectedPinIds:e}){let t=(0,l.ZP)(),i=(0,o.useRef)(),d=(0,s.AF)(),a=(e||[]).map(e=>d[e]).filter(Boolean);(0,o.useEffect)(()=>{let e=i.current;e&&(e.scrollLeft=e.scrollWidth-e.offsetWidth)},[a]);let c=a.map((e,i)=>{let{description:o,images:l}=e,s=l?.["236x"];return(0,n.jsx)(r.xu,{marginEnd:1,children:(0,n.jsx)(r.zd,{height:65,rounding:2,wash:!0,width:50,children:(0,n.jsx)(r.Ee,{alt:!!o?.trim()&&o?.trim()||t._('Selected Pin', 'SelectedPinsPreview.image.accessibilityLabel', 'Accessibility label for Pin image without description'),color:e.dominant_color??"",fit:"contain",naturalHeight:s?.height??1,naturalWidth:s?.width??1,src:s?.url??""})})},i)});return(0,n.jsx)(r.xu,{ref:i,display:"flex",marginTop:2,overflow:"scroll",children:c})}},640954:(e,t,i)=>{i.d(t,{T:()=>o,y:()=>r});let o=70,r=80},476310:(e,t,i)=>{function o(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function r(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}i.d(t,{HG:()=>r,OQ:()=>l,hd:()=>o});let l=(e,t)=>({type:"BOARD_SECTION_EDIT",payload:t})},727648:(e,t,i)=>{i.d(t,{Z:()=>c});var o=i(782677),r=i(252071),l=i(338623),s=i(476310),n=i(701842),d=i(517989),a=i(403764);let c=(e,t,i,c)=>_=>{let u={board_id:e,initial_pins:t,name:i},h="BoardSectionResource";return r.Z.create(h,u).callCreate().then(i=>{let r=i.resource_response.data,p=(0,o.Fv)(r,d.Z[h]);return c({event_type:7100,object_id_str:r.id}),_((0,l.XM)(h,u,i,p)),_((0,s.hd)(e,r)),_((0,n.vX)({feedId:e,feedType:a.Z.BOARD_SECTIONS,itemIds:[r.id],itemType:"boardsection"})),t.length&&_({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:r.id},pinIds:t}}),i})}},988860:(e,t,i)=>{i.d(t,{Z:()=>r});var o=i(252071);let r=e=>t=>{t({type:"PINS_MOVE_ALL",payload:e});let{source:i,target:r,excludePinIds:l}=e,s={board_id:i.boardId,new_board_id:r.boardId,pin_ids:l,old_section_id:i.sectionId,new_section_id:r.sectionId};return o.Z.create("BulkEditSelectAllResource",s).callUpdate()}},497816:(e,t,i)=>{i.d(t,{Z:()=>o});let o=(0,i(442279).P1)(({users:e,boards:t,session:i})=>{let o=e[i.userId]||null;return Object.keys(t).reduce((e,i)=>{let r=t[i];return!r.archived_by_me_at&&(r.owner?.id===o?.id||r.collaborating_users&&r.collaborating_users.map(({id:e})=>e).includes(o?.id))&&r.cover_images?e.concat([r]):e},[])},e=>e.sort((e,t)=>e.name.localeCompare(t.name)))},891487:(e,t,i)=>{i.d(t,{Z:()=>c});var o=i(545007),r=i(883119),l=i(144326),s=i(240760),n=i(934648),d=i(827278),a=i(785893);function c({boardId:e,onBoardSelected:t,noArrowIcon:i,showSingleBoardRep:c}){let _=(0,l.ZP)(),u=(0,o.v9)(({boards:e})=>e)[e],h=u.section_count,p=!!h&&h>0,x=(0,n.Z)(),b=u.name??"this board";return(0,a.jsx)(r.iP,{accessibilityLabel:(0,s.Wc)(`${_._('Select {{ boardName }}', 'board.picker.row.select.board', 'Accessibility label for select board button')}`,{boardName:b}),onTap:x({fn:()=>t(p)}),rounding:2,tapStyle:"compress",children:(0,a.jsx)(d.Z,{boardId:e,noArrowIcon:i,showSingleBoardRep:c})})}},971618:(e,t,i)=>{i.d(t,{Z:()=>x});var o=i(545007),r=i(616550),l=i(883119),s=i(144326),n=i(615529),d=i(845873),a=i(891487),c=i(240760),_=i(410287),u=i(785893);function h({onSectionSelected:e,sectionId:t,showSectionRep:i}){let r=(0,o.v9)(({boardsections:e})=>e[t]),n=(0,s.ZP)(),d=r&&r.preview_pins?.[0]&&r.preview_pins[0].image_medium_url,a=r?.title??"";return(0,u.jsx)(_.Z,{onTouch:e,pressState:"none",rounding:2,children:(0,u.jsxs)(l.xu,{alignItems:"center",column:12,"data-test-id":"sectionPickerRow",display:"flex",marginBottom:i?4:0,rounding:2,children:[i&&(0,u.jsx)(l.xu,{height:48,width:51,children:(0,u.jsx)(l.zd,{height:"100%",rounding:2,width:"100%",children:(0,u.jsx)(l.Ee,{alt:(0,c.Wc)(n._('{{ boardSectionName }} thumbnail', 'SectionPickerRow.boardImage.accessibilityLabel.text', 'Additional text explaining board image thumbnail. boardSectionName:Title of the board section for a11y text'),{boardSectionName:a}),color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:d??""})})}),!i&&(0,u.jsx)(l.xu,{column:1,paddingY:2}),(0,u.jsx)(l.xu,{column:11,display:"flex",flex:"grow",justifyContent:"between",paddingY:2,children:i?(0,u.jsx)(l.xu,{marginStart:2,overflow:"hidden",width:"100%",children:(0,u.jsx)(l.xv,{lineClamp:1,size:"400",weight:"bold",children:r?.title})}):(0,u.jsx)(l.xu,{marginStart:2,children:(0,u.jsx)(l.xv,{weight:"bold",children:r?.title})})})]})})}let p=(e,t)=>{let{isFetching:i}=(0,n.Z)({name:"BoardSectionsRepinResource",options:{board_id:e}}),r=(0,o.v9)(({feeds:t})=>(t[`board-sections:${e}`]||[]).reduce((e,t)=>{if("boardsection"===t.type){let i={type:"boardsection",id:t.id};e.push(i)}return e},[])),l=(0,o.v9)(i=>r.map(e=>e.id).reduce((o,r)=>{let l=i.boardsections[r??""];return r!==t&&l&&o.push({board:{id:e},id:l.id,title:l.title,type:"boardsection",slug:l.slug}),o},[]));return{isFetching:i,boardSections:r,filteredBoardSections:l}};function x({boardId:e,originalBoardId:t,sectionId:i,repin:o,hideBoardPickerRow:n,showSectionRep:c}){let _=(0,s.ZP)(),{isFetching:x,boardSections:b,filteredBoardSections:g}=p(e,i),f=(0,r.k6)(),m=(0,d.gC)()(t||"");return(0,u.jsxs)(l.xu,{children:[b.length>0&&(0,u.jsxs)(l.xu,{paddingY:c?0:3,children:[c&&(0,u.jsx)(l.xu,{paddingY:2,children:(0,u.jsx)(l.xu,{marginBottom:2,children:(0,u.jsx)(l.xv,{children:_._('Board', 'RepinFlow.SectionPickerList.Board', 'Section picker board title')})})}),!n&&(0,u.jsx)(a.Z,{boardId:e,noArrowIcon:!0,onBoardSelected:()=>o(e,void 0,_),showSingleBoardRep:c},e),c&&(0,u.jsx)(l.xu,{paddingY:4,children:(0,u.jsx)(l.xv,{children:_._('Section', 'RepinFlow.SectionPickerList.Section', 'Section picker all sections title')})}),g.map(i=>(0,u.jsx)(h,{onSectionSelected:()=>{o(e,i,_),t&&f.push(m?.url??"")},sectionId:i.id??"",showSectionRep:c},i.id))]}),(0,u.jsx)(l.$j,{accessibilityLabel:_._('Loading board section for repin flow', ' - ', ' -- '),show:x})]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/28282-822a787986875804.mjs.map